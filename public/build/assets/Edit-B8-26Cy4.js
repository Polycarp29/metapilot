import{q as b,s as O,o as l,c as $,w,a as e,d as k,u as J,i as D,t as p,b as x,e as d,f as y,F as _,r as j,N as E,x as L}from"./app-BXLWjLk8.js";import{u as P,_ as V}from"./AppLayout-RlMqX6Dx.js";import H from"./FieldItem-DU4lY_nF.js";/* empty css            */const R={class:"space-y-8"},T={class:"glass sticky top-[80px] z-30 -mx-6 px-6 py-6 border-b border-slate-200/50 flex flex-col md:flex-row justify-between items-center gap-6 mb-10 shadow-sm"},z={class:"flex items-center gap-6"},A={class:"flex items-center gap-3 mb-1"},I={class:"text-3xl font-extrabold text-slate-900 tracking-tight"},q={class:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest border border-blue-100"},U={class:"text-sm text-slate-400 font-medium tracking-tight truncate max-w-sm"},Y={class:"flex items-center gap-4 w-full md:w-auto"},G=["href"],K=["disabled"],Q={key:0,class:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"},W={class:"grid grid-cols-1 xl:grid-cols-2 gap-12 items-start"},X={class:"space-y-8 pb-32"},Z={class:"space-y-6"},ee={key:0,class:"flex flex-col items-center justify-center py-32 bg-white/50 border-2 border-dashed border-slate-200 rounded-[2.5rem] text-center px-10"},te={class:"sticky top-[200px] space-y-8"},se={class:"bg-slate-900 rounded-[2.5rem] shadow-2xl border border-slate-800 overflow-hidden flex flex-col h-[75vh]"},re={class:"flex-grow p-8 font-mono text-[13px] overflow-auto custom-scrollbar-dark selection:bg-blue-500/30"},ae={class:"bg-transparent"},le={class:"grid gap-1"},oe={class:"text-slate-700 w-8 text-right select-none pr-4 border-r border-slate-800"},ne=["innerHTML"],xe={__name:"Edit",props:{schema:Object,schemaTypes:Array},setup(o){const C=P(),c=o,f=s=>s.map(t=>({...t,children:f(t.recursive_children||[])})),n=b(c.schema.root_fields?f(JSON.parse(JSON.stringify(c.schema.root_fields))):[]),m=b(""),i=b(!1),S=L(()=>m.value.split(`
`)),v=()=>{n.value.push({field_path:"",field_type:"text",field_value:"",children:[]}),u()},M=s=>{n.value.splice(s,1),u()},h=s=>{const t={};return s.forEach(r=>{r.field_path&&(r.field_type==="object"?t[r.field_path]=h(r.children||[]):r.field_type==="array"?t[r.field_path]=(r.children||[]).map(a=>a.field_type==="object"?h(a.children||[]):g(a.field_value,a.field_type)):t[r.field_path]=g(r.field_value,r.field_type))}),t},g=(s,t)=>t==="number"?parseFloat(s)||0:t==="boolean"?s==="true"||s===!0:s,u=()=>{const s={"@context":"https://schema.org","@type":c.schema.schema_type.name,"@id":c.schema.schema_id,...h(n.value)};m.value=JSON.stringify(s,null,2)},N=()=>{i.value=!0,E.post(`/schemas/${c.schema.id}/fields/bulk`,{fields:n.value},{onSuccess:()=>{i.value=!1},onError:()=>{i.value=!1}})},F=s=>s.replace(/"([^"]+)"(?=:)/g,'<span class="text-blue-400">"$1"</span>').replace(new RegExp('(?<=: )"([^"]+)"',"g"),'<span class="text-emerald-300">"$1"</span>').replace(new RegExp("(?<=: )(\\d+)","g"),'<span class="text-amber-400">$1</span>'),B=()=>{navigator.clipboard.writeText(m.value),C.success("Optimized JSON-LD copied to clipboard!")};return O(()=>{u()}),(s,t)=>(l(),$(V,{title:`Editing ${o.schema.name}`},{default:w(()=>[e("div",R,[e("div",T,[e("div",z,[k(J(D),{href:"/schemas",class:"hidden lg:flex items-center justify-center w-12 h-12 bg-white rounded-2xl border border-slate-200 text-slate-400 hover:text-slate-900 transition-standard shadow-sm active:scale-90"},{default:w(()=>[...t[0]||(t[0]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),e("div",null,[e("div",A,[e("h1",I,p(o.schema.name),1),e("span",q,p(o.schema.schema_type.name),1)]),e("p",U,p(o.schema.schema_id),1)])]),e("div",Y,[e("a",{href:`/schemas/${o.schema.id}/export`,class:"flex-grow md:flex-grow-0 inline-flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-700 font-bold px-6 py-3.5 rounded-2xl hover:bg-slate-50 transition-standard active:scale-95 text-sm"},[...t[1]||(t[1]=[e("svg",{class:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),x(" Export JSON ",-1)])],8,G),e("button",{onClick:N,disabled:i.value,class:"flex-grow md:flex-grow-0 inline-flex items-center justify-center gap-2 bg-slate-900 border border-slate-800 text-white font-bold px-10 py-3.5 rounded-2xl hover:bg-slate-800 transition-standard shadow-xl shadow-slate-200 active:scale-95 disabled:opacity-50 text-sm"},[i.value?(l(),d("span",Q)):y("",!0),x(" "+p(i.value?"Syncing...":"Save Changes"),1)],8,K)])]),e("div",W,[e("div",X,[e("div",{class:"flex justify-between items-center mb-2"},[t[3]||(t[3]=e("h3",{class:"text-xs font-black text-slate-400 uppercase tracking-[0.2em] ml-2"},"Properties Map",-1)),e("button",{onClick:v,class:"group flex items-center gap-2 text-blue-600 font-bold text-xs uppercase tracking-widest hover:text-blue-700 transition-standard"},[...t[2]||(t[2]=[e("div",{class:"w-6 h-6 bg-blue-50 rounded-lg flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-standard"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),x(" Add Property ",-1)])])]),e("div",Z,[(l(!0),d(_,null,j(n.value,(r,a)=>(l(),d("div",{key:a},[k(H,{field:r,onRemove:ie=>M(a),onUpdate:u},null,8,["field","onRemove"])]))),128)),n.value.length===0?(l(),d("div",ee,[t[4]||(t[4]=e("div",{class:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-10 h-10 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[5]||(t[5]=e("h4",{class:"text-xl font-bold text-slate-900 mb-2 font-display"},"No Metadata Defined",-1)),t[6]||(t[6]=e("p",{class:"text-slate-500 font-medium mb-10 max-w-xs"},"Start configuring your JSON-LD by adding properties to the root level.",-1)),e("button",{onClick:v,class:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-bold hover:bg-blue-500 transition-standard active:scale-95 shadow-lg shadow-blue-100"}," Insert First Property ")])):y("",!0)])]),e("div",te,[e("div",se,[e("div",{class:"px-8 py-6 bg-black/40 border-b border-white/5 flex justify-between items-center backdrop-blur-md"},[t[8]||(t[8]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-3 h-3 bg-red-500/80 rounded-full"}),e("div",{class:"w-3 h-3 bg-amber-500/80 rounded-full"}),e("div",{class:"w-3 h-3 bg-emerald-500/80 rounded-full"}),e("span",{class:"ml-4 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})]),x(" Real-time Intelligence ")])],-1)),e("button",{onClick:B,class:"bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white p-3 rounded-xl transition-standard border border-white/5 active:scale-90",title:"Copy Code"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1)])])]),e("div",re,[e("pre",ae,[e("code",le,[(l(!0),d(_,null,j(S.value,(r,a)=>(l(),d("span",{key:a,class:"flex gap-6"},[e("span",oe,p(a+1),1),e("span",{class:"text-slate-300 whitespace-pre",innerHTML:F(r)},null,8,ne)]))),128))])])]),t[9]||(t[9]=e("div",{class:"px-8 py-5 bg-black/40 border-t border-white/5 flex items-center justify-between"},[e("div",{class:"flex gap-4"},[e("div",{class:"flex flex-col"},[e("span",{class:"text-[9px] font-black text-slate-500 uppercase tracking-widest"},"Compiler"),e("span",{class:"text-[11px] text-emerald-400 font-bold"},"READY")]),e("div",{class:"w-px h-8 bg-slate-800 mx-2"}),e("div",{class:"flex flex-col"},[e("span",{class:"text-[9px] font-black text-slate-500 uppercase tracking-widest"},"Protocol"),e("span",{class:"text-[11px] text-blue-400 font-bold"},"JSON-LD 1.1")])]),e("div",{class:"flex items-center gap-2 group cursor-help"},[e("span",{class:"w-2 h-2 bg-emerald-500 rounded-full shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),e("span",{class:"text-[11px] font-bold text-slate-400 group-hover:text-emerald-400 transition-colors"},"Valid Structured Data")])],-1))])])])])]),_:1},8,["title"]))}};export{xe as default};
