import{r as u,w as F,o as Xe,a as et,b as l,c as o,d as k,u as w,Z as tt,e as O,f as e,t as n,g as i,h as D,F as b,i as g,v as ge,n as d,j as oe,k as c,l as fe,m as ae,p as L,T as st,q as f,s as W}from"./app-c-fTTCOh.js";import{_ as lt}from"./AppLayout-CXcCEDhl.js";import{C as ot,a as at,L as rt,P as nt,b as it,p as dt,c as ct,d as ut,i as pt,A as xt,B as bt}from"./chart-BeBNpv4U.js";import{L as N,D as Me}from"./index-Cq55bBb5.js";import vt from"./PredictionsTab-BZn3kaFD.js";import mt from"./DevelopersTab-BEL7vgQe.js";import{_ as gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./Toaster-m_QLPzRe.js";const ft={class:"max-w-[1400px] mx-auto p-6 lg:p-10 space-y-10"},ht={class:"flex flex-col md:flex-row md:items-center justify-between gap-6"},wt={class:"flex items-center gap-3 mt-2"},kt={class:"text-slate-500 font-medium"},yt={key:0,class:"flex items-center gap-2 px-2 py-0.5 bg-slate-100 rounded-md border border-slate-200 shadow-sm animate-in fade-in duration-500"},_t={class:"text-[10px] font-black text-slate-500 uppercase tracking-tight"},Ct={class:"flex items-center gap-4 bg-white p-2 rounded-2xl shadow-premium border border-slate-100"},jt=["value"],St=["disabled"],Mt=["title"],zt={key:0,class:"flex items-center gap-4 bg-blue-600 text-white px-6 py-3 rounded-2xl shadow-xl shadow-blue-200 animate-in slide-in-from-right-4 duration-500"},Dt={key:1,class:"flex items-center gap-3 bg-white p-2 px-4 rounded-2xl shadow-premium border border-slate-100 animate-in fade-in slide-in-from-top-2 duration-300"},Lt={class:"flex items-center gap-2"},Rt={class:"flex items-center gap-2"},Pt={class:"flex items-center gap-2 border-b border-slate-100 px-2"},At={class:"flex items-center gap-5"},Tt={class:"text-4xl"},It={class:"flex items-center gap-4"},Bt={key:1,class:"space-y-10 animate-in fade-in duration-500"},Vt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ut={key:1,class:"mb-10 bg-rose-50 border border-rose-200 rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in fade-in slide-in-from-top-4 duration-500"},Ft=["disabled"],Nt={key:0,class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},Et={key:2,class:"mb-10 bg-amber-50 border border-amber-200 rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-4 animate-in fade-in slide-in-from-top-4 duration-500"},Ht=["disabled"],$t={key:0,class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},Gt={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ot={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium group hover:border-blue-500/30 transition-all"},Wt={class:"flex items-center justify-between mb-1"},qt={class:"flex items-baseline gap-2 mt-3"},Kt={class:"text-3xl font-black text-slate-900"},Yt={class:"text-xs font-bold text-slate-400"},Qt={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-blue-500/30 transition-all"},Zt={class:"flex items-center justify-between mb-1"},Jt={class:"text-3xl font-black text-blue-600 mt-3"},Xt={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-emerald-500/30 transition-all relative overflow-hidden group"},es={key:0,class:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-10 flex items-center justify-center text-center p-4"},ts={key:1,class:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-10 flex items-center justify-center text-center p-4"},ss={class:"flex items-center justify-between mb-1"},ls={class:"text-3xl font-black text-slate-900 mt-3"},os={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-emerald-500/30 transition-all relative overflow-hidden group"},as={key:0,class:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-10 flex items-center justify-center text-center p-4"},rs={class:"flex items-center justify-between mb-1"},ns={class:"text-3xl font-black text-slate-900 mt-3"},is={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-emerald-500/30 transition-all relative overflow-hidden group"},ds={key:0,class:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-10 flex items-center justify-center text-center p-4"},cs={class:"flex items-center justify-between mb-1"},us={class:"text-3xl font-black text-slate-900 mt-3"},ps={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-emerald-500/30 transition-all relative overflow-hidden group"},xs={key:0,class:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-10 flex items-center justify-center text-center p-4"},bs={class:"text-3xl font-black text-slate-900 mt-3"},vs={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-blue-500/30 transition-all"},ms={class:"text-3xl font-black text-slate-900 mt-3"},gs={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium hover:border-blue-500/30 transition-all"},fs={class:"text-3xl font-black text-slate-900 mt-3"},hs={key:4,class:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-700"},ws={class:"bg-gradient-to-br from-slate-900 to-slate-800 p-8 rounded-[2.5rem] border border-white/5 relative overflow-hidden group"},ks={class:"relative z-10"},ys={class:"flex items-center justify-between mb-6"},_s={key:0,class:"flex items-end gap-3"},Cs={class:"text-4xl font-black text-white"},js={class:"text-slate-400 text-xs mb-1.5 font-medium"},Ss={key:1,class:"text-slate-500 italic text-sm"},Ms={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium relative overflow-hidden group hover:border-indigo-500/30 transition-all"},zs={class:"flex items-center justify-between mb-6"},Ds={key:0,class:"flex items-end gap-3"},Ls={class:"text-4xl font-black text-slate-900"},Rs={class:"text-slate-500 text-xs mb-1.5 font-medium"},Ps={key:1,class:"text-slate-400 italic text-sm"},As={key:5,class:"bg-gradient-to-br from-slate-900 to-slate-800 p-10 rounded-[3rem] shadow-2xl relative overflow-hidden group"},Ts={class:"relative z-10"},Is={key:0,class:"py-10"},Bs={class:"bg-white/5 p-8 rounded-[2rem] border border-white/10 flex flex-col md:flex-row items-center justify-between gap-6"},Vs={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-10"},Us={class:"space-y-8"},Fs={class:"bg-white/5 p-8 rounded-[2rem] border border-white/10"},Ns={class:"flex items-center gap-3 mb-4"},Es={class:"text-lg font-medium text-slate-200 leading-relaxed"},Hs={class:"space-y-4"},$s={class:"grid gap-3"},Gs={class:"text-slate-300 font-medium"},Os={key:0,class:"text-slate-500 text-sm italic px-2"},Ws={class:"space-y-10"},qs={class:"space-y-6"},Ks={class:"space-y-4"},Ys={class:"flex gap-4"},Qs={class:"shrink-0 w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-black text-sm border border-blue-500/20"},Zs={class:"text-slate-200 font-bold leading-relaxed"},Js={key:0,class:"text-slate-500 text-sm italic px-2"},Xs={key:0,class:"space-y-6"},el={class:"grid gap-4"},tl={class:"text-slate-300 text-sm font-medium leading-relaxed italic"},sl={key:1,class:"bg-indigo-500/5 p-8 rounded-[2rem] border border-indigo-500/10"},ll={class:"space-y-2"},ol={key:2,class:"py-10"},al={class:"grid grid-cols-1 lg:grid-cols-2 gap-10"},rl={class:"space-y-8"},nl={class:"space-y-4"},il={class:"space-y-6"},dl={key:3,class:"py-20 text-center animate-fade-in shadow-inner rounded-[3rem] bg-white/5 border border-white/5"},cl={key:4,class:"py-20 text-center animate-fade-in shadow-inner rounded-[3rem] bg-white/5 border border-white/5"},ul={key:1,class:"py-20 text-center animate-fade-in shadow-inner rounded-[3rem] bg-white/5 border border-white/5"},pl={key:6,class:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-premium mb-12"},xl={key:7,class:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-premium mb-12"},bl={class:"flex items-center justify-between mb-10"},vl={class:"flex bg-slate-50 p-1 rounded-xl"},ml={class:"h-[400px]"},gl={key:8,class:"grid grid-cols-1 lg:grid-cols-2 gap-8 pb-10"},fl={class:"space-y-8"},hl={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},wl={class:"flex flex-col md:flex-row gap-8 items-center"},kl={class:"w-40 h-40 shrink-0"},yl={class:"flex-1 space-y-4 w-full"},_l={class:"flex justify-between items-center mb-1"},Cl={class:"flex items-center gap-2 overflow-hidden"},jl=["title"],Sl={class:"text-xs font-black text-slate-900"},Ml={class:"h-1 bg-slate-50 rounded-full overflow-hidden"},zl={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Dl={class:"flex flex-col md:flex-row gap-8 items-center"},Ll={class:"w-40 h-40 shrink-0"},Rl={class:"flex-1 space-y-4 w-full"},Pl={class:"flex justify-between items-center mb-1"},Al={class:"flex items-center gap-2 overflow-hidden"},Tl=["title"],Il={class:"text-xs font-black text-slate-900"},Bl={class:"h-1 bg-slate-50 rounded-full overflow-hidden"},Vl={key:0,class:"text-center py-8 text-slate-400 italic text-sm"},Ul={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Fl={class:"overflow-x-auto"},Nl={class:"w-full text-left"},El={class:"divide-y divide-slate-50"},Hl={class:"py-4 pl-4 pr-4"},$l={class:"text-sm font-bold text-slate-700 block mb-1"},Gl={class:"h-1 bg-slate-100 rounded-full overflow-hidden w-24"},Ol={class:"py-4 text-right"},Wl={class:"text-sm font-black text-slate-900"},ql={class:"py-4 text-right pr-4"},Kl={class:"text-sm font-medium text-slate-500"},Yl={key:0,class:"block text-[9px] text-purple-600 font-bold"},Ql={key:0,class:"text-center py-10 text-slate-400 italic text-sm"},Zl={class:"space-y-8"},Jl={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Xl={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},eo={class:"flex items-center gap-2"},to={class:"flex bg-slate-50 p-1 rounded-xl"},so={class:"mb-6"},lo={class:"relative"},oo={class:"flex flex-col md:flex-row gap-8 items-start"},ao={class:"w-full md:w-1/3 h-48 shrink-0 flex items-center justify-center"},ro={key:1,class:"text-slate-300 text-xs font-bold uppercase tracking-widest"},no={class:"w-full md:w-2/3 space-y-3"},io={class:"flex items-center gap-2 overflow-hidden"},co=["title"],uo={class:"text-sm font-black text-slate-900"},po={key:0,class:"text-center py-4 text-slate-400 italic text-sm"},xo={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},bo={class:"space-y-8"},vo={class:"space-y-4"},mo={class:"flex justify-between items-start mb-2 gap-4"},go=["title"],fo={class:"text-right shrink-0"},ho={class:"block text-sm font-black text-slate-900"},wo={class:"h-1.5 bg-slate-50 rounded-full overflow-hidden"},ko={key:0,class:"text-slate-400 italic text-xs mt-2"},yo={class:"space-y-4"},_o={class:"flex justify-between items-center mb-2 gap-4"},Co=["title"],jo={class:"text-right shrink-0"},So={class:"block text-sm font-black text-slate-900"},Mo={class:"h-1.5 bg-slate-50 rounded-full overflow-hidden"},zo={key:0,class:"text-slate-400 italic text-xs mt-2"},Do={key:9,class:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-premium mb-12 animate-in fade-in duration-700"},Lo={class:"overflow-x-auto"},Ro={class:"w-full text-left"},Po={class:"divide-y divide-slate-50"},Ao={class:"py-5 px-4 max-w-md"},To=["title"],Io={class:"py-5 text-center"},Bo={class:"text-sm font-black text-slate-900"},Vo={class:"py-5 text-center"},Uo={class:"text-sm font-bold text-slate-600"},Fo={class:"py-5 text-center"},No={class:"text-xs font-black text-slate-500"},Eo={class:"py-5 text-center"},Ho={class:"flex flex-col items-center gap-1"},$o={class:"w-20 h-1 bg-slate-100 rounded-full overflow-hidden"},Go={class:"py-5 text-right pr-4"},Oo={class:"flex items-center justify-end gap-2 group/status relative"},Wo={class:"text-lg"},qo={class:"absolute bottom-full right-0 mb-2 w-48 p-2 bg-slate-900 text-white text-[9px] font-medium rounded-lg opacity-0 group-hover/status:opacity-100 pointer-events-none transition-opacity z-20 shadow-xl"},Ko={key:0,class:"text-center py-20 bg-slate-50/50 rounded-[2rem] border-2 border-dashed border-slate-200 text-slate-400 italic text-sm m-4"},Yo={key:0,class:"space-y-8 py-10"},Qo={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Zo={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Jo={class:"h-[300px]"},Xo={key:1,class:"h-full flex items-center justify-center text-slate-400 italic text-sm"},ea={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},ta={class:"h-[300px]"},sa={key:1,class:"h-full flex items-center justify-center text-slate-400 italic text-sm"},la={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium lg:col-span-2"},oa={class:"h-[300px]"},aa={key:1,class:"h-full flex items-center justify-center text-slate-400 italic text-sm"},ra={key:2,class:"space-y-10 animate-in fade-in duration-500"},na={key:0,class:"max-w-4xl mx-auto mb-6"},ia={key:0,class:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-2xl text-emerald-700 font-bold text-sm flex items-center gap-3 shadow-sm"},da={key:1,class:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-2xl text-rose-700 font-bold text-sm flex items-center gap-3 shadow-sm"},ca={key:1,class:"bg-gradient-to-br from-slate-900 to-slate-800 p-12 rounded-[3rem] shadow-2xl relative overflow-hidden group"},ua={class:"relative z-10 flex flex-col items-center text-center max-w-2xl mx-auto"},pa={class:"flex flex-col md:flex-row gap-4 w-full md:w-auto"},xa=["disabled"],ba={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},va={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium group hover:border-emerald-500/30 transition-all"},ma={class:"flex items-center justify-between mb-1"},ga={class:"text-3xl font-black text-slate-900 mt-3"},fa={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium group hover:border-emerald-500/30 transition-all"},ha={class:"flex items-center justify-between mb-1"},wa={class:"text-3xl font-black text-slate-900 mt-3"},ka={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium group hover:border-emerald-500/30 transition-all"},ya={class:"flex items-center justify-between mb-1"},_a={class:"text-3xl font-black text-slate-900 mt-3"},Ca={class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium group hover:border-emerald-500/30 transition-all"},ja={class:"flex items-center justify-between mb-1"},Sa={class:"text-3xl font-black text-slate-900 mt-3"},Ma={key:1,class:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-premium"},za={class:"h-[400px]"},Da={key:2,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},La={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Ra={class:"h-[300px]"},Pa={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Aa={class:"h-[300px]"},Ta={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ia={class:"lg:col-span-2 bg-gradient-to-br from-slate-900 to-slate-800 p-8 rounded-[3rem] shadow-premium relative overflow-hidden"},Ba={class:"relative z-10"},Va={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ua={class:"flex justify-between items-start mb-3"},Fa={class:"text-sm font-bold text-white group-hover:text-emerald-400 transition-colors"},Na={class:"flex items-center gap-4"},Ea={class:"flex flex-col"},Ha={class:"text-xs font-bold text-slate-300"},$a={class:"flex flex-col"},Ga={class:"text-xs font-bold text-slate-300"},Oa={class:"flex flex-col"},Wa={class:"text-xs font-bold text-rose-400"},qa={key:0,class:"col-span-2 text-center py-10"},Ka={class:"flex flex-col gap-6"},Ya={key:0,class:"space-y-4"},Qa={class:"flex items-center gap-3"},Za={class:"min-w-0"},Ja=["title"],Xa={class:"text-[9px] font-black text-slate-400 uppercase"},er={class:"text-right"},tr={key:1,class:"text-center py-10 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200"},sr={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 pb-10"},lr={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},or={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},ar={class:"flex items-center gap-3"},rr={class:"relative w-full md:w-64"},nr={class:"overflow-x-auto"},ir={class:"w-full text-left"},dr={class:"divide-y divide-slate-50"},cr={class:"py-4 pr-4"},ur=["title"],pr={class:"py-4 text-right"},xr={class:"flex flex-col items-end"},br={class:"text-sm font-black text-slate-900"},vr={class:"py-4 text-right"},mr={class:"text-sm font-medium text-slate-500"},gr={class:"py-4 text-right"},fr={class:"flex flex-col items-end"},hr={key:0,class:"text-center py-10 text-slate-400 italic text-sm"},wr={key:1,class:"flex items-center justify-between pt-6 border-t border-slate-50 mt-4"},kr={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none"},yr={class:"flex items-center gap-2"},_r=["disabled"],Cr=["disabled"],jr={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium"},Sr={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},Mr={class:"flex items-center gap-3"},zr={class:"relative w-full md:w-64"},Dr={class:"overflow-x-auto"},Lr={class:"w-full text-left"},Rr={class:"divide-y divide-slate-50"},Pr={class:"py-4 pr-4"},Ar=["title"],Tr={class:"py-4 text-right"},Ir={class:"flex flex-col items-end"},Br={class:"text-sm font-black text-slate-900"},Vr={class:"py-4 text-right"},Ur={class:"flex flex-col items-end"},Fr={class:"text-sm font-bold text-slate-600"},Nr={key:0,class:"text-center py-10 text-slate-400 italic text-sm"},Er={key:1,class:"flex items-center justify-between pt-6 border-t border-slate-50 mt-4"},Hr={class:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none"},$r={class:"flex items-center gap-2"},Gr=["disabled"],Or=["disabled"],Wr={key:3},qr={key:4},Kr={key:5,class:"text-center py-20 bg-slate-50 rounded-[3rem] border-2 border-dashed border-slate-200"},Yr={key:0,class:"fixed bottom-10 right-10 z-[100]"},Qr={class:"bg-emerald-600 text-white p-6 rounded-[2rem] shadow-2xl border border-emerald-400/30 flex items-center gap-6 backdrop-blur-md"},re=10,Zr={__name:"Dashboard",props:{properties:Array,organization:Object},setup(R){ot.register(at,rt,nt,it,dt,ct,ut,pt,xt,bt);const he=R,h=u(he.properties[0]?.id||null),P=u(30),q=u(new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0]),K=u(new Date(Date.now()-1440*60*1e3).toISOString().split("T")[0]),ze=u(!1),B=u(!0),ne=u(!1),ie=u(!1),a=u(null),v=u(null),De=u(null),He=u(null),Y=u("country"),de=u(""),E=u("users"),H=u(!1),$=u(null),$e=u(null),C=u("overview"),ce=u(!1),M=u(!1),Q=u(null),we=f(()=>he.properties.find(r=>r.id===h.value)),Le=f(()=>we.value?.sync_status==="syncing"),Re=f(()=>a.value?.top_queries?a.value.top_queries.filter(r=>r.impressions>100&&r.ctr<.02).sort((r,t)=>t.impressions-r.impressions).slice(0,5):[]),Ge=f(()=>v.value?{labels:v.value.map(t=>new Date(t.snapshot_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})),datasets:[{label:"Clicks",data:v.value.map(t=>t.clicks),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,yAxisID:"y"},{label:"Impressions",data:v.value.map(t=>t.impressions),borderColor:"#6366f1",borderWidth:2,borderDash:[5,5],fill:!1,tension:.4,pointRadius:0,pointHoverRadius:4,yAxisID:"y1"}]}:{labels:[],datasets:[]}),Oe=f(()=>{const r=JSON.parse(JSON.stringify(z.value));return r.scales.y1.display=!0,r}),ue=f(()=>{if(!a.value)return[];const r=Y.value==="country"?a.value.by_country:a.value.by_city;if(!r)return[];if(!de.value)return r.slice(0,10);const t=de.value.toLowerCase();return r.filter(s=>s.name.toLowerCase().includes(t)).slice(0,10)}),Pe=f(()=>{const r=ue.value.slice(0,5);return{labels:r.map(t=>t.name),datasets:[{data:r.map(t=>t.activeUsers||t.value||0),backgroundColor:["#10b981","#3b82f6","#f59e0b","#8b5cf6","#ec4899"],borderWidth:0}]}}),ke=f(()=>{const r=(a.value?.by_first_source||[]).slice(0,5);return{labels:r.map(t=>t.name),datasets:[{data:r.map(t=>t.activeUsers||0),backgroundColor:["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899"],borderWidth:0}]}}),ye=f(()=>{const r=(a.value?.by_audience||[]).slice(0,5);return{labels:r.map(t=>t.name),datasets:[{data:r.map(t=>t.activeUsers||0),backgroundColor:["#f59e0b","#ec4899","#3b82f6","#10b981","#8b5cf6"],borderWidth:0}]}}),_e={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",padding:12,cornerRadius:8}},cutout:"70%"},pe=u({labels:[],datasets:[]}),z=u({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",align:"end",labels:{usePointStyle:!0,padding:20,font:{size:10,weight:"bold"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"#1e293b",padding:12,cornerRadius:8}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#64748b"}},y1:{beginAtZero:!0,position:"right",display:!1,grid:{drawOnChartArea:!1},ticks:{color:"#10b981"}},x:{grid:{display:!1},ticks:{color:"#64748b"}}}}),m=u(null),We=u([]),Z=async(r=!1)=>{if(h.value){B.value=!0,a.value=null,m.value=null,ie.value=!1;try{const t=P.value==="custom"?{start_date:q.value,end_date:K.value}:{days:P.value};r&&(t.refresh=1);const[s,p,G,te,Se]=await Promise.all([W.get(route("api.analytics.overview",{property:h.value}),{params:t}),W.get(route("api.analytics.trends",{property:h.value}),{params:t}),W.get(route("api.analytics.acquisition",{property:h.value}),{params:t}),W.get(route("api.analytics.forecast",{property:h.value}),{params:t}),W.get(route("api.analytics.seo-intelligence",{property:h.value}))]);a.value=s.data,v.value=p.data,We.value=G.data,De.value=te.data,He.value=Se.data,$e.value=new Date,Ie(),Ae(t)}catch(t){console.error("Failed to fetch analytics:",t)}finally{B.value=!1}}},Ce=()=>{M.value=!0;const r=window.location.href;window.location.href=route("auth.google",{intent:"connect",redirect_to:r})},Ae=async r=>{ne.value=!0,ie.value=!1,console.log("[AI] Starting insight fetch...",r);try{const t=await W.get(route("api.analytics.insights",{property:h.value,...r}));m.value=t.data,console.log("[AI] Insight fetch complete:",m.value?"Success":"No data")}catch(t){console.error("[AI] Insight fetch failed:",t),ie.value=!0}finally{ne.value=!1}},Te=async()=>{const r=P.value==="custom"?{start_date:q.value,end_date:K.value,refresh:1}:{days:P.value,refresh:1};await Ae(r)},Ie=()=>{if(!v.value)return;const r=v.value.map(t=>new Date(t.snapshot_date).toLocaleDateString(void 0,{month:"short",day:"numeric"}));E.value==="users"?(z.value.scales.y1.display=!1,pe.value={labels:r,datasets:[{label:"Total Users",data:v.value.map(t=>t.users||0),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6}]}):(z.value.scales.y1.display=!0,pe.value={labels:r,datasets:[{label:"Clicks",data:v.value.map(t=>t.clicks),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,yAxisID:"y"},{label:"Impressions",data:v.value.map(t=>t.impressions),borderColor:"#6366f1",borderWidth:2,borderDash:[5,5],fill:!1,tension:.4,pointRadius:0,pointHoverRadius:4,yAxisID:"y1"}]})},Be=r=>{if(!r)return"0s";const t=Math.floor(r/60),s=Math.round(r%60);return t>0?`${t}m ${s}s`:`${s}s`},qe=r=>r?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Ke=()=>{H.value=!H.value,H.value?$.value=setInterval(()=>{Z(!0)},900*1e3):$.value&&(clearInterval($.value),$.value=null)},Ye=()=>{Q.value||(Q.value=setInterval(()=>{router.reload({only:["properties"],preserveScroll:!0,preserveState:!0,onSuccess:()=>{we.value?.sync_status==="completed"?(xe(),ce.value=!0,setTimeout(()=>ce.value=!1,8e3),Z()):we.value?.sync_status==="failed"&&xe()}})},5e3))},xe=()=>{Q.value&&(clearInterval(Q.value),Q.value=null)};F(Le,r=>{r?Ye():xe()},{immediate:!0});const y=(r,t="desktop")=>{const s=(r||0)*100,G=t?.toLowerCase()==="mobile"||t?.toLowerCase()==="tablet"?{optimum:55,fair:75}:{optimum:45,fair:65};return s<G.optimum?{label:"Optimum",class:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",icon:"âœ¨",description:"Excellent engagement. Users are finding exactly what they need."}:s<G.fair?{label:"Fair",class:"bg-amber-500/10 text-amber-500 border-amber-500/20",icon:"âš–ï¸",description:"Average performance. Consider optimizing content or CTA placement."}:{label:"Poor",class:"bg-rose-500/10 text-rose-500 border-rose-500/20",icon:"ðŸš©",description:"High bounce rate. Page may have loading issues or low relevance."}},_=f(()=>{if(!a.value?.by_device)return null;const r=a.value.by_device.find(s=>s.name.toLowerCase()==="mobile"),t=a.value.by_device.find(s=>s.name.toLowerCase()==="desktop");return{mobile:r,desktop:t}});Xe(()=>{h.value&&Z()}),F(()=>he.properties,r=>{r.length>0&&!h.value&&(h.value=r[0].id)},{immediate:!0}),F(P,r=>{ze.value=r==="custom"}),F(E,()=>{Ie()});const x=r=>{if(r===0||r===null||isNaN(r))return null;const t=r>0;return{isPositive:t,label:`${Math.abs(r).toFixed(1)}%`,class:t?"text-emerald-500 bg-emerald-500/10 border-emerald-500/20":"text-rose-500 bg-rose-500/10 border-rose-500/20",icon:t?"â†‘":"â†“"}},A=f(()=>{if(!a.value?.deltas)return null;const r=a.value.deltas.total_users;return r<-10?{type:"warning",title:"Traffic Drop Detected",message:`You've lost ${Math.abs(r).toFixed(1)}% of your traffic compared to the previous period.`,icon:"ðŸ“‰"}:r>15?{type:"success",title:"Strong Growth Spurt",message:`Your traffic is up by ${r.toFixed(1)}%! Keep up the momentum.`,icon:"ðŸ“ˆ"}:null}),V=u(""),J=u(""),U=u("all"),X=u("all"),T=u(1),I=u(1),Ve=f(()=>{if(!a.value?.top_queries)return[];let r=a.value.top_queries;if(V.value){const s=V.value.toLowerCase();r=r.filter(p=>p.name.toLowerCase().includes(s))}U.value==="growing"?r=r.filter(s=>s.delta_clicks>0):U.value==="declining"&&(r=r.filter(s=>s.delta_clicks<0));const t=(T.value-1)*re;return r.slice(t,t+re)}),je=f(()=>{if(!a.value?.top_queries)return 0;let r=a.value.top_queries;if(V.value){const t=V.value.toLowerCase();r=r.filter(s=>s.name.toLowerCase().includes(t))}return U.value==="growing"?r=r.filter(t=>t.delta_clicks>0):U.value==="declining"&&(r=r.filter(t=>t.delta_clicks<0)),Math.ceil(r.length/re)}),Ue=f(()=>{if(!a.value?.top_pages_gsc)return[];let r=a.value.top_pages_gsc;if(J.value){const s=J.value.toLowerCase();r=r.filter(p=>p.name.toLowerCase().includes(s))}X.value==="growing"?r=r.filter(s=>s.delta_clicks>0):X.value==="declining"&&(r=r.filter(s=>s.delta_clicks<0));const t=(I.value-1)*re;return r.slice(t,t+re)}),ee=(r,t,s,p=5)=>{if(!r||r.length===0)return{labels:[],datasets:[]};const G=r.map(j=>new Date(j.snapshot_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})),te={};r.forEach(j=>{(j[t]||[]).forEach(S=>{const ve=S.name||S.query||S.page||S.event_name||S.pageTitle||"unknown";te[ve]=(te[ve]||0)+(S[s]||S.activeUsers||S.eventCount||0)})});const Se=Object.entries(te).sort((j,se)=>se[1]-j[1]).slice(0,p).map(j=>j[0]),be=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#f43f5e"],Je=Se.map((j,se)=>{const S=r.map(ve=>{const me=(ve[t]||[]).find(le=>(le.name||le.query||le.page||le.event_name||le.pageTitle)===j);return me&&(me[s]||me.activeUsers||me.eventCount)||0});return{label:j,data:S,borderColor:be[se%be.length],backgroundColor:`${be[se%be.length]}1A`,borderWidth:2,tension:.4,pointRadius:0,pointHoverRadius:4,fill:!0}});return{labels:G,datasets:Je}},Qe=f(()=>ee(v.value,"top_queries","clicks")),Ze=f(()=>ee(v.value,"top_pages","clicks")),Fe=f(()=>ee(v.value,"by_page_title","activeUsers")),Ne=f(()=>ee(v.value,"by_screen","activeUsers")),Ee=f(()=>ee(v.value,"by_event","eventCount"));return F([V,U],()=>T.value=1),F([J,X],()=>I.value=1),F([h,P,q,K],()=>{Z(),T.value=1,I.value=1}),et(()=>{$.value&&clearInterval($.value),xe()}),(r,t)=>(l(),o(b,null,[k(w(tt),{title:"Analytics Dashboard"}),k(lt,null,{default:O(()=>[e("div",ft,[e("div",ht,[e("div",null,[t[24]||(t[24]=e("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Analytics Dashboard",-1)),e("div",wt,[e("p",kt,"Insights and performance tracking for "+n(R.organization.name),1),a.value?.last_updated?(l(),o("div",yt,[t[23]||(t[23]=e("div",{class:"w-1.5 h-1.5 rounded-full bg-slate-400"},null,-1)),e("span",_t,"Updated: "+n(qe(a.value.last_updated)),1)])):i("",!0)])]),e("div",Ct,[D(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>h.value=s),class:"bg-transparent border-none focus:ring-0 font-bold text-slate-700 pr-10 cursor-pointer"},[(l(!0),o(b,null,g(R.properties,s=>(l(),o("option",{key:s.id,value:s.id},n(s.name),9,jt))),128))],512),[[ge,h.value]]),t[28]||(t[28]=e("div",{class:"w-px h-6 bg-slate-100"},null,-1)),D(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>P.value=s),class:"bg-transparent border-none focus:ring-0 font-bold text-blue-600 cursor-pointer pr-10 hover:text-blue-700 transition-colors"},[...t[25]||(t[25]=[e("option",{value:0},"Today",-1),e("option",{value:1},"Yesterday",-1),e("option",{value:7},"Last 7 Days",-1),e("option",{value:14},"Last 14 Days",-1),e("option",{value:28},"Last 28 Days",-1),e("option",{value:30},"Last 30 Days",-1),e("option",{value:90},"Last 3 Months",-1),e("option",{value:180},"Last 6 Months",-1),e("option",{value:365},"Last Year",-1),e("option",{value:"custom"},"Custom Range",-1)])],512),[[ge,P.value]]),t[29]||(t[29]=e("div",{class:"w-px h-6 bg-slate-100"},null,-1)),e("button",{onClick:t[2]||(t[2]=s=>Z(!0)),class:"flex items-center gap-3 px-3 py-1.5 hover:bg-slate-50 rounded-xl transition-all group",disabled:B.value,title:"Refresh Data from API"},[(l(),o("svg",{class:d(["w-4 h-4 text-slate-400 group-hover:text-blue-500",{"animate-spin text-blue-500":B.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),t[27]||(t[27]=e("span",{class:"text-xs font-bold text-slate-500 group-hover:text-slate-700"},"Refetch",-1))],8,St),t[30]||(t[30]=e("div",{class:"w-px h-6 bg-slate-100"},null,-1)),e("button",{onClick:Ke,class:"flex items-center gap-2 px-3 py-1.5 hover:bg-slate-50 rounded-xl transition-all group",title:H.value?"Disable Auto-refresh":"Enable Auto-refresh every 15m"},[e("div",{class:d(["w-2 h-2 rounded-full",H.value?"bg-emerald-500 animate-pulse":"bg-slate-300"])},null,2),e("span",{class:d(["text-xs font-bold transition-colors",H.value?"text-emerald-600":"text-slate-500"])},"Auto",2)],8,Mt)]),Le.value?(l(),o("div",zt,[...t[31]||(t[31]=[e("div",{class:"relative flex h-2.5 w-2.5"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-100 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-2.5 w-2.5 bg-white"})],-1),e("div",{class:"flex flex-col"},[e("span",{class:"text-[10px] font-black uppercase tracking-widest text-blue-100 leading-none"},"Background Sync"),e("span",{class:"text-xs font-bold mt-0.5"},"Updating property data...")],-1)])])):i("",!0),ze.value?(l(),o("div",Dt,[e("div",Lt,[t[32]||(t[32]=e("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"From",-1)),D(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>q.value=s),class:"bg-slate-50 border-none rounded-lg text-sm font-bold text-slate-700 focus:ring-2 focus:ring-blue-500/20 py-1"},null,512),[[oe,q.value]])]),t[34]||(t[34]=e("div",{class:"w-px h-4 bg-slate-100"},null,-1)),e("div",Rt,[t[33]||(t[33]=e("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"To",-1)),D(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=s=>K.value=s),class:"bg-slate-50 border-none rounded-lg text-sm font-bold text-slate-700 focus:ring-2 focus:ring-blue-500/20 py-1"},null,512),[[oe,K.value]])])])):i("",!0)]),e("div",Pt,[e("button",{onClick:t[5]||(t[5]=s=>C.value="overview"),class:d([C.value==="overview"?"text-blue-600 border-blue-600 bg-blue-50/50":"text-slate-400 border-transparent hover:text-slate-600 hover:bg-slate-50","flex items-center gap-2 px-8 py-4 border-b-2 font-black uppercase tracking-widest text-xs transition-all rounded-t-2xl"])},[...t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),c(" General Overview ",-1)])],2),e("button",{onClick:t[6]||(t[6]=s=>C.value="gsc"),class:d([C.value==="gsc"?"text-emerald-600 border-emerald-600 bg-emerald-50/50":"text-slate-400 border-transparent hover:text-slate-600 hover:bg-slate-50","flex items-center gap-2 px-8 py-4 border-b-2 font-black uppercase tracking-widest text-xs transition-all rounded-t-2xl"])},[...t[36]||(t[36]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),c(" Search Console ",-1)])],2),e("button",{onClick:t[7]||(t[7]=s=>C.value="predictions"),class:d([C.value==="predictions"?"text-blue-600 border-blue-600 bg-blue-50/50":"text-slate-400 border-transparent hover:text-slate-600 hover:bg-slate-50","flex items-center gap-2 px-8 py-4 border-b-2 font-black uppercase tracking-widest text-xs transition-all rounded-t-2xl"])},[...t[37]||(t[37]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),c(" Predictions & Insights ",-1)])],2),e("button",{onClick:t[8]||(t[8]=s=>C.value="developers"),class:d([C.value==="developers"?"text-indigo-600 border-indigo-600 bg-indigo-50/50":"text-slate-400 border-transparent hover:text-slate-600 hover:bg-slate-50","flex items-center gap-2 px-8 py-4 border-b-2 font-black uppercase tracking-widest text-xs transition-all rounded-t-2xl"])},[...t[38]||(t[38]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})],-1),c(" Developers ",-1)])],2)]),A.value?(l(),o("div",{key:0,class:d([A.value.type==="warning"?"bg-rose-50 border-rose-200":"bg-emerald-50 border-emerald-200","p-6 rounded-[2.5rem] border shadow-sm flex items-center justify-between gap-6 animate-in slide-in-from-top-4 duration-500 mb-2"])},[e("div",At,[e("div",Tt,n(A.value.icon),1),e("div",null,[e("h3",{class:d(["text-lg font-black",A.value.type==="warning"?"text-rose-900":"text-emerald-900"])},n(A.value.title),3),e("p",{class:d(["font-medium text-sm",A.value.type==="warning"?"text-rose-700":"text-emerald-700"])},n(A.value.message),3)])]),e("div",It,[e("span",{class:d(["text-xs font-black uppercase tracking-widest px-3 py-1 rounded-full border",A.value.type==="warning"?"bg-rose-100/50 text-rose-600 border-rose-200":"bg-emerald-100/50 text-emerald-600 border-emerald-200"])}," Anomaly Detected ",2)])],2)):i("",!0),C.value==="overview"?(l(),o("div",Bt,[B.value?(l(),o("div",Vt,[(l(),o(b,null,g(8,s=>e("div",{key:s,class:"bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-premium"},[...t[39]||(t[39]=[e("div",{class:"skeleton h-3 w-20 rounded-full mb-2"},null,-1),e("div",{class:"skeleton h-2 w-32 rounded-full mb-4 opacity-50"},null,-1),e("div",{class:"skeleton h-10 w-24 rounded-xl mt-3"},null,-1)])])),64))])):i("",!0),a.value?.google_token_invalid?(l(),o("div",Ut,[t[41]||(t[41]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"w-12 h-12 rounded-2xl bg-rose-100 text-rose-600 flex items-center justify-center shrink-0"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",null,[e("h3",{class:"text-lg font-bold text-rose-800"},"Google Connection Expired"),e("p",{class:"text-rose-700 font-medium"},"Your Google access token has expired or was revoked. Please reconnect to restore analytics.")])],-1)),e("button",{onClick:Ce,disabled:M.value,class:"whitespace-nowrap px-6 py-3 bg-rose-600 hover:bg-rose-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-rose-600/20 disabled:opacity-50 flex items-center gap-2"},[M.value?(l(),o("svg",Nt,[...t[40]||(t[40]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),c(" "+n(M.value?"Connecting...":"Reconnect Google"),1)],8,Ft)])):i("",!0),a.value?.gsc_permission_error?(l(),o("div",Et,[t[43]||(t[43]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"w-12 h-12 rounded-2xl bg-amber-100 text-amber-600 flex items-center justify-center shrink-0"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",null,[e("h3",{class:"text-lg font-bold text-amber-800"},"Search Console Permission Denied"),e("p",{class:"text-amber-700 font-medium"},"Google returned a permission error for this site. Click below to re-authorize with full Search Console access.")])],-1)),e("button",{onClick:Ce,disabled:M.value,class:"whitespace-nowrap px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-amber-600/20 disabled:opacity-50 flex items-center gap-2"},[M.value?(l(),o("svg",$t,[...t[42]||(t[42]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),c(" "+n(M.value?"Connecting...":"Re-authorize GSC"),1)],8,Ht)])):i("",!0),a.value&&a.value.total_users>0?(l(),o("div",Gt,[e("div",Ot,[e("div",Wt,[t[44]||(t[44]=e("div",{class:"flex flex-col"},[e("p",{class:"text-slate-500 font-bold text-xs uppercase tracking-wider"},"Total Users"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Active vs Total (GA4)")],-1)),a.value.deltas?.total_users?(l(),o("div",{key:0,class:d([x(a.value.deltas.total_users).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.total_users).icon),1),e("span",null,n(x(a.value.deltas.total_users).label),1)],2)):i("",!0)]),e("div",qt,[e("h3",Kt,n(a.value.total_users||0),1),e("span",Yt,"/ "+n(a.value.total_users_all||0),1)])]),e("div",Qt,[e("div",Zt,[t[45]||(t[45]=e("div",{class:"flex flex-col"},[e("p",{class:"text-slate-500 font-bold text-xs uppercase tracking-wider"},"Conversions"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Key goal completions (GA4)")],-1)),a.value.deltas?.total_conversions?(l(),o("div",{key:0,class:d([x(a.value.deltas.total_conversions).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.total_conversions).icon),1),e("span",null,n(x(a.value.deltas.total_conversions).label),1)],2)):i("",!0)]),e("h3",Jt,n(a.value.total_conversions||0),1)]),e("div",Xt,[a.value.gsc_permission_error?(l(),o("div",es,[...t[46]||(t[46]=[e("span",{class:"text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100"},"Permission Denied",-1)])])):a.value.total_impressions===0?(l(),o("div",ts,[...t[47]||(t[47]=[e("div",{class:"flex flex-col items-center"},[e("span",{class:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-100 animate-pulse"},"Syncing data...")],-1)])])):i("",!0),e("div",ss,[t[48]||(t[48]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Impressions"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Times seen in Search (GSC)")],-1)),a.value.deltas?.total_impressions?(l(),o("div",{key:0,class:d([x(a.value.deltas.total_impressions).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.total_impressions).icon),1),e("span",null,n(x(a.value.deltas.total_impressions).label),1)],2)):i("",!0)]),e("h3",ls,n(a.value.total_impressions?.toLocaleString()||0),1)]),e("div",os,[a.value.gsc_permission_error?(l(),o("div",as,[...t[49]||(t[49]=[e("span",{class:"text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100"},"Permission Required",-1)])])):i("",!0),e("div",rs,[t[50]||(t[50]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Clicks"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Visits from Search (GSC)")],-1)),a.value.deltas?.total_clicks?(l(),o("div",{key:0,class:d([x(a.value.deltas.total_clicks).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.total_clicks).icon),1),e("span",null,n(x(a.value.deltas.total_clicks).label),1)],2)):i("",!0)]),e("h3",ns,n(a.value.total_clicks?.toLocaleString()||0),1)]),e("div",is,[a.value.gsc_permission_error?(l(),o("div",ds,[...t[51]||(t[51]=[e("span",{class:"text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100"},"Permission Required",-1)])])):i("",!0),e("div",cs,[t[52]||(t[52]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Avg. Position"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Mean rank in Search (GSC)")],-1)),a.value.deltas?.avg_position?(l(),o("div",{key:0,class:d([x(a.value.deltas.avg_position).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.avg_position).icon),1),e("span",null,n(x(a.value.deltas.avg_position).label),1)],2)):i("",!0)]),e("h3",us,n(a.value.avg_position?.toFixed(1)||0),1)]),e("div",ps,[a.value.gsc_permission_error?(l(),o("div",xs,[...t[53]||(t[53]=[e("span",{class:"text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100"},"Permission Required",-1)])])):i("",!0),t[54]||(t[54]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"CTR"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Click-through rate (GSC)")],-1)),e("h3",bs,n((a.value.avg_ctr*100).toFixed(2))+"%",1)]),e("div",vs,[t[55]||(t[55]=e("div",{class:"flex flex-col"},[e("p",{class:"text-slate-500 font-bold text-xs uppercase tracking-wider"},"Bounce Rate"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Single-page rate (GA4)")],-1)),e("h3",ms,n((a.value.avg_bounce_rate*100).toFixed(1))+"%",1)]),e("div",gs,[t[56]||(t[56]=e("div",{class:"flex flex-col"},[e("p",{class:"text-slate-500 font-bold text-xs uppercase tracking-wider"},"Avg. Duration"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Time per visit (GA4)")],-1)),e("h3",fs,n(Be(a.value.avg_duration)),1)])])):i("",!0),a.value&&a.value.total_users>0&&_.value?(l(),o("div",hs,[e("div",ws,[t[58]||(t[58]=e("div",{class:"absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-blue-500/10 rounded-full blur-[40px]"},null,-1)),e("div",ks,[e("div",ys,[t[57]||(t[57]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"p-2 bg-blue-500/20 rounded-lg text-blue-400"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])]),e("h3",{class:"text-sm font-black text-white uppercase tracking-widest"},"Mobile Bounce Health")],-1)),_.value.mobile?(l(),o("span",{key:0,class:d(["px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border",y(_.value.mobile.bounceRate,"mobile").class])},n(y(_.value.mobile.bounceRate,"mobile").label),3)):i("",!0)]),_.value.mobile?(l(),o("div",_s,[e("h4",Cs,n((_.value.mobile.bounceRate*100).toFixed(1))+"%",1),e("p",js,n(y(_.value.mobile.bounceRate,"mobile").description),1)])):(l(),o("p",Ss,"Insufficient mobile traffic data"))])]),e("div",Ms,[e("div",zs,[t[59]||(t[59]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"p-2 bg-indigo-50 text-indigo-500 rounded-lg"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])]),e("h3",{class:"text-sm font-black text-slate-500 uppercase tracking-widest"},"Desktop Bounce Health")],-1)),_.value.desktop?(l(),o("span",{key:0,class:d(["px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border",y(_.value.desktop.bounceRate,"desktop").class])},n(y(_.value.desktop.bounceRate,"desktop").label),3)):i("",!0)]),_.value.desktop?(l(),o("div",Ds,[e("h4",Ls,n((_.value.desktop.bounceRate*100).toFixed(1))+"%",1),e("p",Rs,n(y(_.value.desktop.bounceRate,"desktop").description),1)])):(l(),o("p",Ps,"Insufficient desktop traffic data"))])])):i("",!0),B.value||a.value&&a.value.total_users>0?(l(),o("div",As,[t[81]||(t[81]=e("div",{class:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-blue-500/10 rounded-full blur-[100px] group-hover:bg-blue-500/20 transition-all duration-1000"},null,-1)),t[82]||(t[82]=e("div",{class:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px] group-hover:bg-emerald-500/20 transition-all duration-1000"},null,-1)),e("div",Ts,[e("div",{class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10"},[t[61]||(t[61]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"p-4 bg-white/5 rounded-2xl border border-white/10 backdrop-blur-sm"},[e("svg",{class:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",null,[e("h2",{class:"text-2xl font-black text-white"},"AI Performance Insights"),e("p",{class:"text-slate-400 font-medium"},"Smart analysis of your SEO & traffic trends")])],-1)),e("button",{onClick:Te,class:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-bold border border-white/10 transition-all backdrop-blur-sm"},[...t[60]||(t[60]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),c(" Update Analysis ",-1)])])]),R.organization?.settings?.ai_insights_enabled!==!1?(l(),o(b,{key:0},[m.value?.status==="configuration_required"?(l(),o("div",Is,[e("div",Bs,[t[63]||(t[63]=e("div",{class:"flex items-center gap-4"},[e("div",{class:"w-12 h-12 bg-amber-500/10 rounded-2xl flex items-center justify-center text-amber-400 shadow-sm shrink-0 border border-amber-500/10"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",null,[e("h3",{class:"text-lg font-bold text-white"},"AI Model Setup Required"),e("p",{class:"text-sm text-slate-400 mt-1"},"Select an AI model in your organization settings to enable automated performance insights.")])],-1)),k(w(fe),{href:r.route("organization.settings",{tab:"ai"}),class:"whitespace-nowrap px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold transition-all shadow-lg shadow-blue-900/20"},{default:O(()=>[...t[62]||(t[62]=[c(" Configure AI Model ",-1)])]),_:1},8,["href"])])])):m.value&&(!ne.value||m.value)?(l(),o("div",Vs,[e("div",Us,[e("div",Fs,[e("div",Ns,[t[64]||(t[64]=e("span",{class:"px-3 py-1 bg-blue-500/20 text-blue-300 text-[10px] font-black uppercase tracking-widest rounded-lg border border-blue-500/30"},"Executive Summary",-1)),m.value.severity?(l(),o("span",{key:0,class:d(["px-3 py-1 border text-[10px] font-black uppercase tracking-widest rounded-lg",{"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":m.value.severity==="low","bg-yellow-500/20 text-yellow-300 border-yellow-500/30":m.value.severity==="medium","bg-red-500/20 text-red-300 border-red-500/30":m.value.severity==="high"}])}," Priority: "+n(m.value.severity),3)):i("",!0)]),e("p",Es,n(m.value.body||"No summary available for this period."),1)]),e("div",Hs,[t[65]||(t[65]=e("h3",{class:"text-sm font-black text-slate-400 uppercase tracking-widest px-2"},"Key Findings",-1)),e("div",$s,[(l(!0),o(b,null,g(m.value.context?.key_findings||[],(s,p)=>(l(),o("div",{key:p,class:"flex items-center gap-4 p-4 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/[0.07] transition-all"},[e("div",{class:d(["w-2 h-2 rounded-full",p%2===0?"bg-blue-400":"bg-emerald-400"])},null,2),e("span",Gs,n(s),1)]))),128)),m.value.context?.key_findings?.length?i("",!0):(l(),o("p",Os,"No key findings detected."))])])]),e("div",Ws,[e("div",qs,[t[66]||(t[66]=e("h3",{class:"text-sm font-black text-slate-400 uppercase tracking-widest px-2"},"Actionable Recommendations",-1)),e("div",Ks,[(l(!0),o(b,null,g(m.value.context?.recommendations||[],(s,p)=>(l(),o("div",{key:p,class:"p-6 bg-gradient-to-r from-blue-500/10 to-transparent rounded-[2rem] border border-blue-500/20 group/item hover:border-blue-500/40 transition-all"},[e("div",Ys,[e("div",Qs,n(p+1),1),e("p",Zs,n(s),1)])]))),128)),m.value.context?.recommendations?.length?i("",!0):(l(),o("p",Js,"No recommendations available."))])]),m.value.context?.keyword_strategy?.length?(l(),o("div",Xs,[t[67]||(t[67]=e("h3",{class:"text-sm font-black text-emerald-400/80 uppercase tracking-widest px-2 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16"})]),c(" Keyword Strategy ")],-1)),e("div",el,[(l(!0),o(b,null,g(m.value.context.keyword_strategy,(s,p)=>(l(),o("div",{key:p,class:"p-5 bg-emerald-500/5 rounded-2xl border border-emerald-500/10 hover:border-emerald-500/30 transition-all"},[e("p",tl,'"'+n(s)+'"',1)]))),128))])])):i("",!0),m.value.context?.report_enhancements?.length?(l(),o("div",sl,[t[69]||(t[69]=e("h3",{class:"text-sm font-black text-indigo-400 uppercase tracking-widest mb-4 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})]),c(" Enhance this Report ")],-1)),e("ul",ll,[(l(!0),o(b,null,g(m.value.context.report_enhancements,(s,p)=>(l(),o("li",{key:p,class:"text-[11px] font-bold text-slate-400 flex items-start gap-2"},[t[68]||(t[68]=e("span",{class:"text-indigo-500 mt-1"},"â€¢",-1)),c(" "+n(s),1)]))),128))])])):i("",!0)])])):ne.value?(l(),o("div",ol,[e("div",al,[e("div",rl,[t[71]||(t[71]=e("div",{class:"bg-white/5 p-8 rounded-[2rem] border border-white/10"},[e("div",{class:"skeleton-dark h-3 w-32 rounded-full mb-6"}),e("div",{class:"space-y-3"},[e("div",{class:"skeleton-dark h-5 w-full rounded-full"}),e("div",{class:"skeleton-dark h-5 w-5/6 rounded-full"}),e("div",{class:"skeleton-dark h-5 w-4/6 rounded-full"})])],-1)),e("div",nl,[t[70]||(t[70]=e("div",{class:"skeleton-dark h-3 w-24 rounded-full mx-2"},null,-1)),(l(),o(b,null,g(3,s=>e("div",{key:s,class:"skeleton-dark h-16 w-full rounded-2xl"})),64))])]),e("div",il,[t[72]||(t[72]=e("div",{class:"skeleton-dark h-3 w-40 rounded-full mx-2"},null,-1)),(l(),o(b,null,g(3,s=>e("div",{key:s,class:"skeleton-dark h-24 w-full rounded-[2rem]"})),64))])])])):ie.value?(l(),o("div",dl,[t[73]||(t[73]=e("div",{class:"w-24 h-24 bg-rose-500/10 rounded-[2.5rem] flex items-center justify-center mx-auto mb-6 text-rose-400 shadow-xl border border-rose-500/10"},[e("span",{class:"text-4xl"},"âš ï¸")],-1)),t[74]||(t[74]=e("h3",{class:"text-xl font-black text-white mb-2"},"Analysis Failed",-1)),t[75]||(t[75]=e("p",{class:"text-slate-400 font-medium mb-6"},"We couldn't generate insights at this time.",-1)),e("button",{onClick:Te,class:"text-blue-400 font-bold hover:underline"},"Try again")])):(l(),o("div",cl,[...t[76]||(t[76]=[e("div",{class:"w-24 h-24 bg-blue-500/10 rounded-[2.5rem] flex items-center justify-center mx-auto mb-6 text-blue-400 shadow-xl border border-blue-500/10"},[e("svg",{class:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1),e("h3",{class:"text-xl font-black text-white mb-2"},"Awaiting Intelligence",-1),e("p",{class:"text-slate-400 max-w-sm mx-auto font-medium leading-relaxed"},"We need historical data for this property to generate contextual insights. Check back tomorrow!",-1)])]))],64)):(l(),o("div",ul,[t[78]||(t[78]=e("div",{class:"w-24 h-24 bg-purple-500/10 rounded-[2.5rem] flex items-center justify-center mx-auto mb-6 text-purple-400 shadow-xl border border-purple-500/10"},[e("svg",{class:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),t[79]||(t[79]=e("h3",{class:"text-xl font-black text-white mb-2"},"Insights Disabled",-1)),t[80]||(t[80]=e("p",{class:"text-slate-400 max-w-sm mx-auto font-medium mb-6"},"AI analysis is currently turned off for this organization.",-1)),k(w(fe),{href:r.route("organization.settings",{tab:"ai"}),class:"inline-flex items-center gap-3 bg-purple-600 hover:bg-purple-500 text-white px-8 py-3 rounded-2xl font-black transition-all shadow-lg shadow-purple-900/40"},{default:O(()=>[...t[77]||(t[77]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})],-1),c(" Enable AI Insights ",-1)])]),_:1},8,["href"])]))])])):i("",!0),B.value?(l(),o("div",pl,[...t[83]||(t[83]=[e("div",{class:"flex items-center justify-between mb-10"},[e("div",{class:"space-y-2"},[e("div",{class:"skeleton h-6 w-48 rounded-full"}),e("div",{class:"skeleton h-3 w-32 rounded-full opacity-50"})]),e("div",{class:"skeleton h-10 w-40 rounded-xl"})],-1),e("div",{class:"skeleton h-[400px] w-full rounded-[2rem]"},null,-1)])])):a.value&&a.value.total_users>0?(l(),o("div",xl,[e("div",bl,[t[84]||(t[84]=e("div",null,[e("h2",{class:"text-2xl font-black text-slate-900"},"Performance Trends"),e("p",{class:"text-slate-500 font-medium mt-1"},"Daily activity overview")],-1)),e("div",vl,[e("button",{onClick:t[9]||(t[9]=s=>E.value="users"),class:d([E.value==="users"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600","px-4 py-1.5 text-xs font-black uppercase tracking-widest rounded-lg transition-all"])},"Engagement",2),e("button",{onClick:t[10]||(t[10]=s=>E.value="search"),class:d([E.value==="search"?"bg-white text-emerald-600 shadow-sm":"text-slate-400 hover:text-slate-600","px-4 py-1.5 text-xs font-black uppercase tracking-widest rounded-lg transition-all"])},"Search",2)])]),e("div",ml,[pe.value.labels.length?(l(),ae(w(N),{key:0,data:pe.value,options:z.value},null,8,["data","options"])):i("",!0)])])):i("",!0),a.value&&a.value.total_users>0?(l(),o("div",gl,[e("div",fl,[e("div",hl,[t[85]||(t[85]=e("h3",{class:"text-xl font-black text-slate-900 mb-8 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})]),c(" Active Users by First User Source ")],-1)),e("div",wl,[e("div",kl,[k(w(Me),{data:ke.value,options:_e},null,8,["data"])]),e("div",yl,[(l(!0),o(b,null,g(a.value?.by_first_source?.slice(0,5)||[],(s,p)=>(l(),o("div",{key:s.name,class:"group"},[e("div",_l,[e("div",Cl,[e("span",{class:"w-2.5 h-2.5 rounded-full shrink-0",style:L({backgroundColor:ke.value.datasets[0].backgroundColor[p]})},null,4),e("span",{class:"text-xs font-bold text-slate-700 truncate",title:s.name},n(s.name),9,jl)]),e("span",Sl,n((s.activeUsers||0).toLocaleString()),1)]),e("div",Ml,[e("div",{class:"h-full rounded-full transition-all duration-1000 ease-out",style:L({width:(s.activeUsers||0)/(a.value.total_users||1)*100+"%",backgroundColor:ke.value.datasets[0].backgroundColor[p]})},null,4)])]))),128))])])]),e("div",zl,[t[86]||(t[86]=e("h3",{class:"text-xl font-black text-slate-900 mb-8 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),c(" Active Users by Audience ")],-1)),e("div",Dl,[e("div",Ll,[k(w(Me),{data:ye.value,options:_e},null,8,["data"])]),e("div",Rl,[(l(!0),o(b,null,g(a.value?.by_audience?.slice(0,5)||[],(s,p)=>(l(),o("div",{key:s.name,class:"group"},[e("div",Pl,[e("div",Al,[e("span",{class:"w-2.5 h-2.5 rounded-full shrink-0",style:L({backgroundColor:ye.value.datasets[0].backgroundColor[p]})},null,4),e("span",{class:"text-xs font-bold text-slate-700 truncate",title:s.name},n(s.name),9,Tl)]),e("span",Il,n((s.activeUsers||0).toLocaleString()),1)]),e("div",Bl,[e("div",{class:"h-full rounded-full transition-all duration-1000 ease-out",style:L({width:(s.activeUsers||0)/(a.value.total_users||1)*100+"%",backgroundColor:ye.value.datasets[0].backgroundColor[p]})},null,4)])]))),128))])]),a.value?.by_audience?.length?i("",!0):(l(),o("p",Vl,"No audience data available"))]),e("div",Ul,[t[88]||(t[88]=e("h3",{class:"text-xl font-black text-slate-900 mb-8 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),c(" Event Performance ")],-1)),e("div",Fl,[e("table",Nl,[t[87]||(t[87]=e("thead",null,[e("tr",{class:"border-b border-slate-50"},[e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest pl-4"},"Event Name"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"},"Users"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right pr-4"},"Count")])],-1)),e("tbody",El,[(l(!0),o(b,null,g(a.value?.by_event||[],s=>(l(),o("tr",{key:s.name,class:"group hover:bg-slate-50 transition-colors"},[e("td",Hl,[e("span",$l,n(s.name),1),e("div",Gl,[e("div",{class:"h-full bg-purple-500 rounded-full",style:L({width:Math.min((s.eventCount||0)/(a.value?.by_event?.[0]?.eventCount||1)*100,100)+"%"})},null,4)])]),e("td",Ol,[e("span",Wl,n((s.activeUsers||0).toLocaleString()),1)]),e("td",ql,[e("span",Kl,n((s.eventCount||0).toLocaleString()),1),s.conversions>0?(l(),o("span",Yl,n(s.conversions)+" Conv.",1)):i("",!0)])]))),128))])]),a.value?.by_event?.length?i("",!0):(l(),o("p",Ql,"No event data available"))])])]),e("div",Zl,[e("div",Jl,[e("div",Xl,[t[89]||(t[89]=e("h3",{class:"text-xl font-black text-slate-900 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),c(" Geography Overview ")],-1)),e("div",eo,[e("div",to,[e("button",{onClick:t[11]||(t[11]=s=>Y.value="country"),class:d([Y.value==="country"?"bg-white text-emerald-600 shadow-sm":"text-slate-400 hover:text-slate-600","px-4 py-1.5 text-xs font-black uppercase tracking-widest rounded-lg transition-all"])},"Country",2),e("button",{onClick:t[12]||(t[12]=s=>Y.value="city"),class:d([Y.value==="city"?"bg-white text-emerald-600 shadow-sm":"text-slate-400 hover:text-slate-600","px-4 py-1.5 text-xs font-black uppercase tracking-widest rounded-lg transition-all"])},"City",2)])])]),e("div",so,[e("div",lo,[D(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>de.value=s),type:"text",placeholder:"Search locations...",class:"w-full pl-10 pr-4 py-2 bg-slate-50 border-none rounded-xl text-sm font-medium text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-emerald-500/20"},null,512),[[oe,de.value]]),t[90]||(t[90]=e("svg",{class:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",oo,[e("div",ao,[ue.value.length?(l(),ae(w(Me),{key:0,data:Pe.value,options:_e},null,8,["data"])):(l(),o("p",ro,"No Data"))]),e("div",no,[(l(!0),o(b,null,g(ue.value,(s,p)=>(l(),o("div",{key:s.name,class:"flex items-center justify-between group"},[e("div",io,[e("span",{class:"w-2.5 h-2.5 rounded-full shrink-0",style:L({backgroundColor:p<5?Pe.value.datasets[0].backgroundColor[p]:"#cbd5e1"})},null,4),e("span",{class:"text-sm font-bold text-slate-700 truncate",title:s.name},n(s.name),9,co)]),e("span",uo,n((s.activeUsers||s.value||0).toLocaleString()),1)]))),128)),ue.value.length?i("",!0):(l(),o("p",po,"No locations found"))])])]),e("div",xo,[t[95]||(t[95]=e("h3",{class:"text-xl font-black text-slate-900 mb-8 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),c(" Views by Page Title and Screen Name ")],-1)),e("div",bo,[e("div",null,[t[92]||(t[92]=e("h4",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-indigo-400"}),c(" Top Page Titles ")],-1)),e("div",vo,[(l(!0),o(b,null,g(a.value?.by_page_title?.slice(0,5)||[],(s,p)=>(l(),o("div",{key:s.name,class:"group"},[e("div",mo,[e("span",{class:"text-sm font-bold text-slate-700 leading-tight line-clamp-2",title:s.name},n(s.name),9,go),e("div",fo,[e("span",ho,n((s.screenPageViews||s.activeUsers||0).toLocaleString()),1),t[91]||(t[91]=e("span",{class:"text-[9px] text-slate-400 font-bold uppercase tracking-wider"},"Views",-1))])]),e("div",wo,[e("div",{class:"h-full bg-indigo-500 rounded-full transition-all duration-1000 opacity-80 group-hover:opacity-100",style:L({width:(s.screenPageViews||s.activeUsers||0)/(a.value?.by_page_title?.[0]?.screenPageViews||a.value?.by_page_title?.[0]?.activeUsers||1)*100+"%"})},null,4)])]))),128)),a.value?.by_page_title?.length?i("",!0):(l(),o("p",ko,"No page title data"))])]),e("div",null,[t[94]||(t[94]=e("h4",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2"},[e("span",{class:"w-1.5 h-1.5 rounded-full bg-pink-400"}),c(" Top Screen Names ")],-1)),e("div",yo,[(l(!0),o(b,null,g(a.value?.by_screen?.slice(0,5)||[],(s,p)=>(l(),o("div",{key:s.name,class:"group"},[e("div",_o,[e("span",{class:"text-sm font-bold text-slate-700 truncate",title:s.name},n(s.name),9,Co),e("div",jo,[e("span",So,n((s.screenPageViews||s.activeUsers||0).toLocaleString()),1),t[93]||(t[93]=e("span",{class:"text-[9px] text-slate-400 font-bold uppercase tracking-wider"},"Views",-1))])]),e("div",Mo,[e("div",{class:"h-full bg-pink-500 rounded-full transition-all duration-1000 opacity-80 group-hover:opacity-100",style:L({width:(s.screenPageViews||s.activeUsers||0)/(a.value?.by_screen?.[0]?.screenPageViews||a.value?.by_screen?.[0]?.activeUsers||1)*100+"%"})},null,4)])]))),128)),a.value?.by_screen?.length?i("",!0):(l(),o("p",zo,"No screen name data"))])])])])])])):i("",!0),a.value&&a.value.total_users>0?(l(),o("div",Do,[t[101]||(t[101]=e("div",{class:"flex items-center justify-between mb-10"},[e("h3",{class:"text-2xl font-black text-slate-900 flex items-center gap-2"},[e("svg",{class:"w-6 h-6 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})]),c(" Discovered Page Performance ")]),e("span",{class:"text-xs font-black text-slate-400 uppercase tracking-widest"},"SEO Optimization Overview")],-1)),e("div",Lo,[e("table",Ro,[t[96]||(t[96]=e("thead",null,[e("tr",{class:"border-b border-slate-50"},[e("th",{class:"pb-6 text-[11px] font-black text-slate-400 uppercase tracking-widest px-4"},"Page Path"),e("th",{class:"pb-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center"},"Users"),e("th",{class:"pb-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center"},"Engaged"),e("th",{class:"pb-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center"},"Avg. Time"),e("th",{class:"pb-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-center"},"Bounce Rate"),e("th",{class:"pb-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right pr-4"},"SEO Status")])],-1)),e("tbody",Po,[(l(!0),o(b,null,g(a.value?.by_page||[],s=>(l(),o("tr",{key:s.name,class:"group hover:bg-slate-50/50 transition-all"},[e("td",Ao,[e("span",{class:"text-sm font-bold text-slate-700 truncate block transition-colors group-hover:text-blue-600",title:s.name},n(s.name),9,To)]),e("td",Io,[e("span",Bo,n((s.activeUsers||0).toLocaleString()),1)]),e("td",Vo,[e("span",Uo,n((s.engagedSessions||0).toLocaleString()),1)]),e("td",Fo,[e("span",No,n(Be(s.averageSessionDuration)),1)]),e("td",Eo,[e("div",Ho,[e("span",{class:d(["text-sm font-bold",y(s.bounceRate).label==="Poor"?"text-rose-500":"text-slate-700"])},n((s.bounceRate*100).toFixed(1))+"% ",3),e("div",$o,[e("div",{class:d(["h-full rounded-full transition-all duration-1000",y(s.bounceRate).label==="Optimum"?"bg-emerald-500":y(s.bounceRate).label==="Fair"?"bg-amber-500":"bg-rose-500"]),style:L({width:100-s.bounceRate*100+"%"})},null,6)])])]),e("td",Go,[e("div",Oo,[e("span",Wo,n(y(s.bounceRate).icon),1),e("span",{class:d(["px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border transition-all",y(s.bounceRate).class])},n(y(s.bounceRate).label),3),e("div",qo,n(y(s.bounceRate).description),1)])])]))),128))])]),a.value?.by_page?.length?i("",!0):(l(),o("p",Ko,"No discovered page data available for this range"))]),v.value&&v.value.length>0?(l(),o("div",Yo,[t[100]||(t[100]=e("h2",{class:"text-2xl font-black text-slate-900 flex items-center gap-3"},[e("span",{class:"p-2 bg-emerald-500/10 rounded-xl"},"ðŸ“Š"),c(" Content & Event Trends ")],-1)),e("div",Qo,[e("div",Zo,[t[97]||(t[97]=e("h3",{class:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2"},[e("div",{class:"w-2 h-6 bg-amber-500 rounded-full"}),c(" Views by Page Title ")],-1)),e("div",Jo,[Fe.value.datasets.length?(l(),ae(w(N),{key:0,data:Fe.value,options:z.value},null,8,["data","options"])):(l(),o("div",Xo,"No page title data available"))])]),e("div",ea,[t[98]||(t[98]=e("h3",{class:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2"},[e("div",{class:"w-2 h-6 bg-blue-500 rounded-full"}),c(" Views by Screen Name ")],-1)),e("div",ta,[Ne.value.datasets.length?(l(),ae(w(N),{key:0,data:Ne.value,options:z.value},null,8,["data","options"])):(l(),o("div",sa,"No screen name data available"))])]),e("div",la,[t[99]||(t[99]=e("h3",{class:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2"},[e("div",{class:"w-2 h-6 bg-rose-500 rounded-full"}),c(" Event Performance (Event Count) ")],-1)),e("div",oa,[Ee.value.datasets.length?(l(),ae(w(N),{key:0,data:Ee.value,options:z.value},null,8,["data","options"])):(l(),o("div",aa,"No event data available"))])])])])):i("",!0)])):i("",!0)])):i("",!0),C.value==="gsc"?(l(),o("div",ra,[r.$page.props.flash.success||r.$page.props.flash.error?(l(),o("div",na,[r.$page.props.flash.success?(l(),o("div",ia,[t[102]||(t[102]=e("div",{class:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center text-emerald-600"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),c(" "+n(r.$page.props.flash.success),1)])):i("",!0),r.$page.props.flash.error?(l(),o("div",da,[t[103]||(t[103]=e("div",{class:"w-8 h-8 rounded-lg bg-rose-500/20 flex items-center justify-center text-rose-600"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),c(" "+n(r.$page.props.flash.error),1)])):i("",!0)])):i("",!0),a.value?.gsc_permission_error?(l(),o("div",ca,[t[111]||(t[111]=e("div",{class:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px] group-hover:bg-emerald-500/20 transition-all duration-1000"},null,-1)),t[112]||(t[112]=e("div",{class:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-blue-500/10 rounded-full blur-[100px] group-hover:bg-blue-500/20 transition-all duration-1000"},null,-1)),e("div",ua,[t[107]||(t[107]=e("div",{class:"w-24 h-24 bg-white/10 rounded-[2.5rem] flex items-center justify-center mb-8 text-emerald-400 shadow-xl border border-white/10 backdrop-blur-sm group-hover:scale-110 transition-transform duration-500"},[e("svg",{class:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),t[108]||(t[108]=e("h2",{class:"text-4xl font-black text-white mb-4"},"Unlock Deep Search Insights",-1)),t[109]||(t[109]=e("p",{class:"text-slate-400 text-lg font-medium leading-relaxed mb-10"}," Connect Google Search Console to see exactly how customers find you. This data is critical for: ",-1)),t[110]||(t[110]=e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full mb-12"},[e("div",{class:"flex items-center gap-4 bg-white/5 p-5 rounded-2xl border border-white/5 text-left"},[e("div",{class:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center text-emerald-400 shrink-0"},"âœ¨"),e("span",{class:"text-slate-200 font-bold"},"Smart Keyword Discovery")]),e("div",{class:"flex items-center gap-4 bg-white/5 p-5 rounded-2xl border border-white/5 text-left"},[e("div",{class:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center text-blue-400 shrink-0"},"ðŸ“"),e("span",{class:"text-slate-200 font-bold"},"Competitor Comparison")]),e("div",{class:"flex items-center gap-4 bg-white/5 p-5 rounded-2xl border border-white/5 text-left"},[e("div",{class:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center text-purple-400 shrink-0"},"ðŸ”"),e("span",{class:"text-slate-200 font-bold"},"AI Suggestive Content")]),e("div",{class:"flex items-center gap-4 bg-white/5 p-5 rounded-2xl border border-white/5 text-left"},[e("div",{class:"w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center text-amber-400 shrink-0"},"ðŸ›£ï¸"),e("span",{class:"text-slate-200 font-bold"},"Sitemap Health Tracking")])],-1)),e("div",pa,[e("button",{onClick:Ce,disabled:M.value,class:"inline-flex items-center justify-center gap-3 bg-emerald-600 hover:bg-emerald-500 text-white px-10 py-4 rounded-2xl font-black transition-all shadow-xl shadow-emerald-900/40 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed min-w-[280px]"},[M.value?(l(),o(b,{key:0},[t[104]||(t[104]=e("svg",{class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t[105]||(t[105]=c(" Establishing Connection... ",-1))],64)):(l(),o(b,{key:1},[c(" Force Reconnect Search Console ")],64))],8,xa),k(w(fe),{href:r.route("organization.settings",{tab:"analytics"}),class:"inline-flex items-center justify-center gap-3 bg-white/10 hover:bg-white/20 text-white px-10 py-4 rounded-2xl font-black transition-all border border-white/10"},{default:O(()=>[...t[106]||(t[106]=[c(" Settings flow ",-1)])]),_:1},8,["href"])])])])):(l(),o(b,{key:2},[a.value?(l(),o("div",ba,[e("div",va,[e("div",ma,[t[113]||(t[113]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Total Impressions"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Visibility in Search Engine")],-1)),a.value.deltas?.total_impressions?(l(),o("div",{key:0,class:d([x(a.value.deltas.total_impressions).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.total_impressions).icon),1),e("span",null,n(x(a.value.deltas.total_impressions).label),1)],2)):i("",!0)]),e("h3",ga,n((a.value?.total_impressions||0).toLocaleString()),1)]),e("div",fa,[e("div",ha,[t[114]||(t[114]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Total Clicks"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Traffic from Search Console")],-1)),a.value.deltas?.total_clicks?(l(),o("div",{key:0,class:d([x(a.value.deltas.total_clicks).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.total_clicks).icon),1),e("span",null,n(x(a.value.deltas.total_clicks).label),1)],2)):i("",!0)]),e("h3",wa,n((a.value?.total_clicks||0).toLocaleString()),1)]),e("div",ka,[e("div",ya,[t[115]||(t[115]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Avg. Position"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Mean rank across all queries")],-1)),a.value.deltas?.avg_position?(l(),o("div",{key:0,class:d([x(a.value.deltas.avg_position).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.avg_position).icon),1),e("span",null,n(x(a.value.deltas.avg_position).label),1)],2)):i("",!0)]),e("h3",_a,n((a.value?.avg_position||0).toFixed(1)),1)]),e("div",Ca,[e("div",ja,[t[116]||(t[116]=e("div",{class:"flex flex-col"},[e("p",{class:"text-emerald-700 font-bold text-xs uppercase tracking-wider"},"Avg. CTR"),e("p",{class:"text-[9px] text-slate-400 font-medium mt-0.5"},"Click-through rate average")],-1)),a.value.deltas?.avg_ctr?(l(),o("div",{key:0,class:d([x(a.value.deltas.avg_ctr).class,"px-2 py-0.5 rounded-lg border text-[10px] font-black flex items-center gap-1"])},[e("span",null,n(x(a.value.deltas.avg_ctr).icon),1),e("span",null,n(x(a.value.deltas.avg_ctr).label),1)],2)):i("",!0)]),e("h3",Sa,n(((a.value?.avg_ctr||0)*100).toFixed(2))+"%",1)])])):i("",!0),v.value&&v.value.length>0?(l(),o("div",Ma,[t[117]||(t[117]=e("div",{class:"flex items-center justify-between mb-10"},[e("div",null,[e("h2",{class:"text-2xl font-black text-slate-900"},"Search Performance Trends"),e("p",{class:"text-slate-500 font-medium mt-1"},"Clicks vs Impressions over time")]),e("div",{class:"flex items-center gap-4"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 rounded-full bg-emerald-500"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Clicks")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 rounded-full bg-indigo-500"}),e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Impressions")])])],-1)),e("div",za,[k(w(N),{data:Ge.value,options:Oe.value},null,8,["data","options"])])])):i("",!0),v.value&&v.value.length>0?(l(),o("div",Da,[e("div",La,[t[118]||(t[118]=e("h3",{class:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2"},[e("div",{class:"w-2 h-6 bg-emerald-500 rounded-full"}),c(" Top Queries Trend (Clicks) ")],-1)),e("div",Ra,[k(w(N),{data:Qe.value,options:z.value},null,8,["data","options"])])]),e("div",Pa,[t[119]||(t[119]=e("h3",{class:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2"},[e("div",{class:"w-2 h-6 bg-blue-500 rounded-full"}),c(" Top Pages Trend (Clicks) ")],-1)),e("div",Aa,[k(w(N),{data:Ze.value,options:z.value},null,8,["data","options"])])])])):i("",!0),e("div",Ta,[e("div",Ia,[t[128]||(t[128]=e("div",{class:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-emerald-500/10 rounded-full blur-[60px]"},null,-1)),e("div",Ba,[t[127]||(t[127]=e("div",{class:"flex items-center gap-3 mb-8"},[e("div",{class:"p-3 bg-emerald-500/20 rounded-xl border border-emerald-500/20"},[e("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",null,[e("h3",{class:"text-lg font-black text-white"},"Keyword Opportunities"),e("p",{class:"text-xs text-slate-400 font-medium"},"High impressions with low CTR - Potential for optimization")])],-1)),e("div",Va,[(l(!0),o(b,null,g(Re.value,s=>(l(),o("div",{key:s.name,class:"bg-white/5 p-5 rounded-2xl border border-white/5 hover:bg-white/[0.08] transition-all group"},[e("div",Ua,[e("p",Fa,n(s.name||"Unknown"),1),t[120]||(t[120]=e("span",{class:"text-[10px] font-black text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-md border border-emerald-500/20"},"Opportunity",-1))]),e("div",Na,[e("div",Ea,[t[121]||(t[121]=e("span",{class:"text-[10px] font-black text-slate-500 uppercase tracking-widest"},"Impressions",-1)),e("span",Ha,n((s.impressions||0).toLocaleString()),1)]),t[124]||(t[124]=e("div",{class:"w-px h-6 bg-white/10"},null,-1)),e("div",$a,[t[122]||(t[122]=e("span",{class:"text-[10px] font-black text-slate-500 uppercase tracking-widest"},"Position",-1)),e("span",Ga,n((s.position||0).toFixed(1)),1)]),t[125]||(t[125]=e("div",{class:"w-px h-6 bg-white/10"},null,-1)),e("div",Oa,[t[123]||(t[123]=e("span",{class:"text-[10px] font-black text-slate-500 uppercase tracking-widest"},"CTR",-1)),e("span",Wa,n(((s.ctr||0)*100).toFixed(2))+"%",1)])])]))),128)),Re.value.length?i("",!0):(l(),o("div",qa,[...t[126]||(t[126]=[e("p",{class:"text-slate-500 text-sm font-medium italic"},"No clear optimization opportunities detected in the current query set.",-1)])]))])])]),e("div",Ka,[t[131]||(t[131]=e("h3",{class:"text-sm font-black text-slate-400 uppercase tracking-widest px-2"},"Sitemap Health",-1)),a.value?.sitemaps?.length?(l(),o("div",Ya,[(l(!0),o(b,null,g(a.value.sitemaps,s=>(l(),o("div",{key:s.path,class:"bg-white p-5 rounded-3xl border border-slate-100 shadow-sm flex items-center justify-between group"},[e("div",Qa,[t[129]||(t[129]=e("div",{class:"w-10 h-10 rounded-xl bg-slate-900 flex items-center justify-center text-white shrink-0"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Za,[e("p",{class:"text-xs font-bold text-slate-900 truncate max-w-[120px]",title:s.path},n(s.path.split("/").pop()),9,Ja),e("p",Xa,n(s.contents?.[0]?.count||0)+" URLs",1)])]),e("div",er,[e("span",{class:d(["w-2 h-2 rounded-full inline-block",s.errors>0?"bg-rose-500":"bg-emerald-500"])},null,2),e("p",{class:d(["text-[10px] font-black",s.errors>0?"text-rose-600":"text-emerald-600"])},n(s.errors>0?"Error":"Healthy"),3)])]))),128))])):(l(),o("div",tr,[...t[130]||(t[130]=[e("p",{class:"text-slate-400 text-xs font-bold"},"No sitemap data",-1)])]))])]),e("div",sr,[e("div",lr,[e("div",or,[t[134]||(t[134]=e("h3",{class:"text-xl font-black text-slate-900 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),c(" Top Search Queries ")],-1)),e("div",ar,[D(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>U.value=s),class:"bg-slate-50 border-none rounded-xl text-xs font-bold text-slate-600 focus:ring-2 focus:ring-emerald-500/20 py-2 px-4 appearance-none cursor-pointer"},[...t[132]||(t[132]=[e("option",{value:"all"},"All Trends",-1),e("option",{value:"growing"},"Growing â†‘",-1),e("option",{value:"declining"},"Declining â†“",-1)])],512),[[ge,U.value]]),e("div",rr,[D(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>V.value=s),type:"text",placeholder:"Search queries...",class:"w-full pl-10 pr-4 py-2 bg-slate-50 border-none rounded-xl text-sm font-medium text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-emerald-500/20"},null,512),[[oe,V.value]]),t[133]||(t[133]=e("svg",{class:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])]),e("div",nr,[e("table",ir,[t[135]||(t[135]=e("thead",null,[e("tr",{class:"border-b border-slate-50"},[e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Query"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"},"Clicks"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"},"Impressions"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"},"Pos.")])],-1)),e("tbody",dr,[(l(!0),o(b,null,g(Ve.value,s=>(l(),o("tr",{key:s.name,class:"group hover:bg-slate-50 transition-colors"},[e("td",cr,[e("span",{class:"text-sm font-bold text-slate-700 block truncate max-w-[200px]",title:s.name},n(s.name),9,ur)]),e("td",pr,[e("div",xr,[e("span",br,n((s.clicks||0).toLocaleString()),1),s.delta_clicks?(l(),o("span",{key:0,class:d([s.delta_clicks>0?"text-emerald-500":"text-rose-500","text-[9px] font-bold flex items-center gap-0.5 mt-0.5"])},n(s.delta_clicks>0?"â†‘":"â†“")+" "+n(Math.abs(s.delta_clicks).toFixed(1))+"% ",3)):i("",!0)])]),e("td",vr,[e("span",mr,n((s.impressions||0).toLocaleString()),1)]),e("td",gr,[e("div",fr,[e("span",{class:d(["text-sm font-bold",(s.position||0)<=3?"text-emerald-500":"text-slate-600"])},n((s.position||0).toFixed(1)),3),s.delta_position?(l(),o("span",{key:0,class:d([s.delta_position>0?"text-emerald-500":"text-rose-500","text-[9px] font-bold flex items-center gap-0.5"])},n(s.delta_position>0?"â†‘":"â†“")+" "+n(Math.abs(s.delta_position).toFixed(1))+"% ",3)):i("",!0)])])]))),128))])]),Ve.value.length?i("",!0):(l(),o("p",hr,"No query data available")),je.value>1?(l(),o("div",wr,[e("span",kr,"Page "+n(T.value)+" of "+n(je.value),1),e("div",yr,[e("button",{onClick:t[16]||(t[16]=s=>T.value--),disabled:T.value<=1,class:"p-2 bg-slate-50 hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-slate-50 rounded-lg border border-slate-100 transition-all text-slate-600"},[...t[136]||(t[136]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_r),e("button",{onClick:t[17]||(t[17]=s=>T.value++),disabled:T.value>=je.value,class:"p-2 bg-slate-50 hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-slate-50 rounded-lg border border-slate-100 transition-all text-slate-600"},[...t[137]||(t[137]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Cr)])])):i("",!0)])]),e("div",jr,[e("div",Sr,[t[140]||(t[140]=e("h3",{class:"text-xl font-black text-slate-900 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),c(" Top Pages (GSC) ")],-1)),e("div",Mr,[D(e("select",{"onUpdate:modelValue":t[18]||(t[18]=s=>X.value=s),class:"bg-slate-50 border-none rounded-xl text-xs font-bold text-slate-600 focus:ring-2 focus:ring-blue-500/20 py-2 px-4 appearance-none cursor-pointer"},[...t[138]||(t[138]=[e("option",{value:"all"},"All Trends",-1),e("option",{value:"growing"},"Growing â†‘",-1),e("option",{value:"declining"},"Declining â†“",-1)])],512),[[ge,X.value]]),e("div",zr,[D(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>J.value=s),type:"text",placeholder:"Search pages...",class:"w-full pl-10 pr-4 py-2 bg-slate-50 border-none rounded-xl text-sm font-medium text-slate-700 placeholder-slate-400 focus:ring-2 focus:ring-blue-500/20"},null,512),[[oe,J.value]]),t[139]||(t[139]=e("svg",{class:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])]),e("div",Dr,[e("table",Lr,[t[141]||(t[141]=e("thead",null,[e("tr",{class:"border-b border-slate-50"},[e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Page URL"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"},"Clicks"),e("th",{class:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right"},"Pos.")])],-1)),e("tbody",Rr,[(l(!0),o(b,null,g(Ue.value,s=>(l(),o("tr",{key:s.name,class:"group hover:bg-slate-50 transition-colors"},[e("td",Pr,[e("span",{class:"text-sm font-bold text-slate-700 block truncate max-w-[250px]",title:s.name},n(s.name.replace(/^https?:\/\/[^\/]+/,"")||"/"),9,Ar)]),e("td",Tr,[e("div",Ir,[e("span",Br,n((s.clicks||0).toLocaleString()),1),s.delta_clicks?(l(),o("span",{key:0,class:d([s.delta_clicks>0?"text-emerald-500":"text-rose-500","text-[9px] font-bold flex items-center gap-0.5 mt-0.5"])},n(s.delta_clicks>0?"â†‘":"â†“")+" "+n(Math.abs(s.delta_clicks).toFixed(1))+"% ",3)):i("",!0)])]),e("td",Vr,[e("div",Ur,[e("span",Fr,n((s.position||0).toFixed(1)),1),s.delta_position?(l(),o("span",{key:0,class:d([s.delta_position>0?"text-emerald-500":"text-rose-500","text-[9px] font-bold flex items-center gap-0.5"])},n(s.delta_position>0?"â†‘":"â†“")+" "+n(Math.abs(s.delta_position).toFixed(1))+"% ",3)):i("",!0)])])]))),128))])]),Ue.value.length?i("",!0):(l(),o("p",Nr,"No page data available")),r.pagesGscTotalPages>1?(l(),o("div",Er,[e("span",Hr,"Page "+n(I.value)+" of "+n(r.pagesGscTotalPages),1),e("div",$r,[e("button",{onClick:t[20]||(t[20]=s=>I.value--),disabled:I.value<=1,class:"p-2 bg-slate-50 hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-slate-50 rounded-lg border border-slate-100 transition-all text-slate-600"},[...t[142]||(t[142]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Gr),e("button",{onClick:t[21]||(t[21]=s=>I.value++),disabled:I.value>=r.pagesGscTotalPages,class:"p-2 bg-slate-50 hover:bg-slate-100 disabled:opacity-30 disabled:hover:bg-slate-50 rounded-lg border border-slate-100 transition-all text-slate-600"},[...t[143]||(t[143]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Or)])])):i("",!0)])])])],64))])):i("",!0),C.value==="predictions"?(l(),o("div",Wr,[k(vt,{propertyId:h.value,organization:R.organization},null,8,["propertyId","organization"])])):i("",!0),C.value==="developers"?(l(),o("div",qr,[k(mt,{propertyId:h.value,organization:R.organization,properties:R.properties,forecastData:De.value},null,8,["propertyId","organization","properties","forecastData"])])):i("",!0),R.properties.length?i("",!0):(l(),o("div",Kr,[t[145]||(t[145]=e("div",{class:"text-6xl mb-6"},"ðŸ“Š",-1)),t[146]||(t[146]=e("h2",{class:"text-2xl font-bold text-slate-900"},"No Analytics Properties Connected",-1)),t[147]||(t[147]=e("p",{class:"text-slate-500 mt-2"},"Connect your GA4 property in the settings to start tracking performance.",-1)),k(w(fe),{href:r.route("organization.settings",{tab:"analytics"}),class:"inline-block mt-8 bg-slate-900 text-white px-8 py-3 rounded-2xl font-bold hover:bg-slate-800 transition-all shadow-lg"},{default:O(()=>[...t[144]||(t[144]=[c(" Connect Property ",-1)])]),_:1},8,["href"])]))]),k(st,{"enter-active-class":"transform transition ease-out duration-300","enter-from-class":"translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:O(()=>[ce.value?(l(),o("div",Yr,[e("div",Qr,[t[149]||(t[149]=e("div",{class:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-white"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})])],-1)),t[150]||(t[150]=e("div",null,[e("h4",{class:"text-sm font-black tracking-tight uppercase tracking-widest text-emerald-50"},"Sync Complete"),e("p",{class:"text-[10px] text-emerald-100 font-medium whitespace-nowrap"},"Property analytics have been synchronized.")],-1)),e("button",{onClick:t[22]||(t[22]=s=>ce.value=!1),class:"text-emerald-200 hover:text-white transition-colors p-2"},[...t[148]||(t[148]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):i("",!0)]),_:1})]),_:1})],64))}},dn=gt(Zr,[["__scopeId","data-v-76fd2dc0"]]);export{dn as default};
