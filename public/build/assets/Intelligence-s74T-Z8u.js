import{o as P,K as _,b as a,m as $,e as x,f as t,d as p,k as i,h as C,u as L,j as H,c as r,F as M,i as B,t as l,v as V,n as m,g as k,T as U,z as O,s as h,L as E,r as b}from"./app-BMFXdR1V.js";import{_ as G}from"./lodash-CUagJ07z.js";/* empty css            */const q={class:"max-w-[1440px] mx-auto pb-20"},J={class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8"},Q={class:"flex items-center bg-slate-100 p-1 rounded-xl border border-slate-200/60 shadow-inner w-fit"},W={class:"bg-white rounded-3xl p-6 border border-slate-100 shadow-sm mb-8 flex flex-wrap items-center gap-6"},X={class:"flex-1 min-w-[300px] relative"},Y={class:"flex items-center gap-3"},Z=["value"],ee=["fill"],te={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},se={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},oe={class:"flex items-center justify-between mb-4"},le={class:"flex items-center gap-2"},ae={key:0,class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},re=["onClick"],ne=["fill"],ie={class:"text-xl font-black text-slate-900 mb-4 truncate group-hover:text-blue-600 transition-colors"},de={class:"h-16 mb-6 w-full opacity-60 group-hover:opacity-100 transition-opacity"},ue={class:"mt-auto flex items-center justify-between pt-4 border-t border-slate-50"},ce=["onClick"],xe={key:2,class:"text-center py-24 bg-slate-50 rounded-[40px] border-2 border-dashed border-slate-200"},pe={class:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl border border-slate-100 overflow-hidden relative"},be={class:"flex items-center justify-between mb-8 pr-10"},ge={class:"text-3xl font-black text-slate-900"},ve={class:"grid grid-cols-3 gap-6 mb-8"},me={class:"bg-slate-50 p-6 rounded-3xl"},fe={class:"text-3xl font-black text-slate-900"},ke={class:"bg-slate-50 p-6 rounded-3xl"},he={class:"text-3xl font-black text-slate-900"},ye={class:"bg-slate-50 p-6 rounded-3xl"},we={class:"text-3xl font-black text-slate-900"},_e=["disabled"],Ce={key:0,class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},Me={key:0,class:"mt-8 p-6 bg-emerald-50 rounded-3xl border border-emerald-100 animate-in fade-in slide-in-from-bottom-2"},Be={class:"text-emerald-800 font-medium leading-relaxed"},je={class:"uppercase"},Ae={__name:"Intelligence",props:{organization:Object,industries:Array},setup(A){usePage();const y=b([]),w=b(!1),g=b(!1),c=b(null),n=b(null),d=b(!1),u=E({search:"",niche:"",status:"",region:""}),v=async()=>{w.value=!0;try{const o=d.value?"api.ki.bookmarks":"api.ki.index",e=await h.get(route(o),{params:u});y.value=d.value?e.data:e.data.data}catch(o){console.error(o)}finally{w.value=!1}},j=G.debounce(v,500),z=o=>({rising:"bg-emerald-100 text-emerald-600",stable:"bg-blue-100 text-blue-600",decaying:"bg-rose-100 text-rose-600",dormant:"bg-slate-100 text-slate-600",resurgent:"bg-amber-100 text-amber-600"})[o]||"bg-slate-100 text-slate-500",S=o=>({rising:"#10b981",stable:"#3b82f6",decaying:"#f43f5e",dormant:"#94a3b8",resurgent:"#f59e0b"})[o]||"#3b82f6",D=o=>{n.value=o,c.value=null},R=()=>{d.value=!d.value,v()},T=async o=>{try{o.is_bookmarked?(await h.delete(route("api.ki.bookmark.destroy",o.id)),o.is_bookmarked=!1):(await h.post(route("api.ki.bookmark",o.id),{organization_id:usePage().props.organization.id,use_case:"research"}),o.is_bookmarked=!0)}catch(e){console.error(e)}},I=async o=>{g.value=!0;try{const e=await h.post(route("api.ki.predict-decay",o.id));c.value=e.data.ml_result,o.decay_status=e.data.ml_result.decay_status,o.trend_velocity=e.data.ml_result.velocity,o.relevance_score=e.data.ml_result.resurgence_probability*100}catch(e){console.error(e)}finally{g.value=!1}};return P(v),(o,e)=>{const f=_("Link"),N=_("Sparkline"),F=_("AppLayout");return a(),$(F,{title:"Keyword Intelligence"},{default:x(()=>[t("div",q,[t("div",J,[e[12]||(e[12]=t("div",null,[t("h1",{class:"text-3xl font-extrabold text-slate-900 tracking-tight mb-2"},"Keyword Intelligence"),t("p",{class:"text-slate-500 font-medium"},"Canonical knowledge base of trending topics with decay & resurgence forecasting.")],-1)),t("div",Q,[p(f,{href:o.route("keywords.trending"),class:"px-3 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-200/50 transition-all duration-300 flex items-center gap-1.5"},{default:x(()=>[...e[7]||(e[7]=[t("svg",{class:"w-3.5 h-3.5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),t("span",{class:"hidden sm:inline"},"Back",-1)])]),_:1},8,["href"]),e[10]||(e[10]=t("div",{class:"w-px h-4 bg-slate-200 mx-1"},null,-1)),p(f,{href:o.route("keywords.trending"),class:"px-4 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-200/50 transition-all duration-300 flex items-center gap-2"},{default:x(()=>[...e[8]||(e[8]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1),i(" Trends ",-1)])]),_:1},8,["href"]),e[11]||(e[11]=t("button",{class:"px-4 py-2 rounded-lg text-xs font-bold bg-white text-blue-600 shadow-sm transition-all duration-300 flex items-center gap-2"},[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),i(" Intelligence ")],-1)),p(f,{href:o.route("keywords.research"),class:"px-4 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-200/50 transition-all duration-300 flex items-center gap-2"},{default:x(()=>[...e[9]||(e[9]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),i(" Research ",-1)])]),_:1},8,["href"])])]),t("div",W,[t("div",X,[C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.search=s),type:"text",placeholder:"Search keywords...",class:"w-full pl-12 pr-4 py-3 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500/20 font-medium text-slate-700 placeholder:text-slate-400 transition-all",onInput:e[1]||(e[1]=(...s)=>L(j)&&L(j)(...s))},null,544),[[H,u.search]]),e[13]||(e[13]=t("svg",{class:"w-5 h-5 text-slate-400 absolute left-4 top-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),t("div",Y,[C(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.niche=s),onChange:v,class:"bg-slate-50 border-none rounded-2xl px-4 py-3 text-sm font-bold text-slate-600 focus:ring-2 focus:ring-blue-500/20"},[e[14]||(e[14]=t("option",{value:""},"All Niches",-1)),(a(!0),r(M,null,B(A.industries,s=>(a(),r("option",{key:s.slug,value:s.slug},l(s.name),9,Z))),128))],544),[[V,u.niche]]),C(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>u.status=s),onChange:v,class:"bg-slate-50 border-none rounded-2xl px-4 py-3 text-sm font-bold text-slate-600 focus:ring-2 focus:ring-blue-500/20"},[...e[15]||(e[15]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"rising"},"Rising",-1),t("option",{value:"stable"},"Stable",-1),t("option",{value:"decaying"},"Decaying",-1),t("option",{value:"dormant"},"Dormant",-1),t("option",{value:"resurgent"},"Resurgent",-1)])],544),[[V,u.status]]),t("button",{onClick:R,class:m(["px-4 py-3 rounded-2xl text-sm font-bold flex items-center gap-2 transition-all",d.value?"bg-amber-100 text-amber-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"])},[(a(),r("svg",{class:"w-4 h-4",fill:d.value?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[16]||(e[16]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.921-.755 1.688-1.54 1.118l-3.976-2.888a1 1 0 00-1.175 0l-3.976 2.888c-.784.57-1.838-.197-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)])],8,ee)),i(" "+l(d.value?"My Bookmarks":"Show Bookmarks"),1)],2)])]),w.value?(a(),r("div",te,[(a(),r(M,null,B(12,s=>t("div",{key:s,class:"h-64 bg-slate-100 animate-pulse rounded-3xl"})),64))])):y.value.length>0?(a(),r("div",se,[(a(!0),r(M,null,B(y.value,s=>(a(),r("div",{key:s.id,class:"group bg-white rounded-3xl border border-slate-100 p-6 hover:shadow-2xl hover:shadow-blue-500/5 transition-all duration-300 relative overflow-hidden flex flex-col"},[t("div",oe,[t("div",le,[t("span",{class:m(["px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider",z(s.decay_status)])},l(s.decay_status),3),s.category?(a(),r("span",ae,l(s.category),1)):k("",!0)]),t("button",{onClick:K=>T(s),class:m(["text-slate-300 hover:text-amber-500 transition-colors",{"text-amber-500":s.is_bookmarked}])},[(a(),r("svg",{class:"w-5 h-5",fill:s.is_bookmarked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.921-.755 1.688-1.54 1.118l-3.976-2.888a1 1 0 00-1.175 0l-3.976 2.888c-.784.57-1.838-.197-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)])],8,ne))],10,re)]),t("h3",ie,l(s.keyword),1),t("div",de,[p(N,{data:s.trend_history,color:S(s.decay_status)},null,8,["data","color"])]),t("div",ue,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-[10px] uppercase font-bold text-slate-400 mb-0.5"},"Velocity",-1)),t("span",{class:m(["text-lg font-black",s.trend_velocity>=0?"text-emerald-500":"text-rose-500"])},l(s.trend_velocity>=0?"+":"")+l(Math.round(s.trend_velocity))+"% ",3)]),t("button",{onClick:K=>D(s),class:"text-blue-600 font-bold text-sm hover:underline flex items-center gap-1"},[...e[19]||(e[19]=[i(" Analyze ",-1),t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,ce)])]))),128))])):(a(),r("div",xe,[e[21]||(e[21]=t("div",{class:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm"},[t("svg",{class:"w-10 h-10 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})])],-1)),e[22]||(e[22]=t("h3",{class:"text-xl font-bold text-slate-900 mb-2"},"No Intelligence Available",-1)),e[23]||(e[23]=t("p",{class:"text-slate-500 max-w-sm mx-auto"},"Discovery jobs will populate this canonical knowledge base automatically.",-1)),p(f,{href:o.route("keywords.trending"),class:"mt-6 inline-block text-blue-600 font-bold hover:underline"},{default:x(()=>[...e[20]||(e[20]=[i("Run a Discovery Scan â†’",-1)])]),_:1},8,["href"])]))]),p(U,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:x(()=>[n.value?(a(),r("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",onClick:e[6]||(e[6]=O(s=>n.value=null,["self"]))},[t("div",pe,[t("button",{onClick:e[4]||(e[4]=s=>n.value=null),class:"absolute top-8 right-8 text-slate-400 hover:text-slate-900 transition-colors"},[...e[24]||(e[24]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),t("div",be,[t("h2",ge,l(n.value.keyword),1),t("span",{class:m([z(n.value.decay_status),"px-4 py-1.5 rounded-xl text-xs font-black uppercase tracking-widest"])},l(n.value.decay_status),3)]),t("div",ve,[t("div",me,[e[25]||(e[25]=t("p",{class:"text-xs font-bold text-slate-400 uppercase mb-2"},"Trend Velocity",-1)),t("p",fe,l(n.value.trend_velocity)+"%",1)]),t("div",ke,[e[26]||(e[26]=t("p",{class:"text-xs font-bold text-slate-400 uppercase mb-2"},"Global Score",-1)),t("p",he,l(Math.round(n.value.global_score)),1)]),t("div",ye,[e[27]||(e[27]=t("p",{class:"text-xs font-bold text-slate-400 uppercase mb-2"},"ML Relevance",-1)),t("p",we,l(n.value.relevance_score?Math.round(n.value.relevance_score)+"%":"TBD"),1)])]),t("button",{onClick:e[5]||(e[5]=s=>I(n.value)),disabled:g.value,class:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-blue-500/20 hover:bg-blue-700 transition-all flex items-center justify-center gap-3 disabled:opacity-50"},[g.value?(a(),r("svg",Ce,[...e[28]||(e[28]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):k("",!0),i(" "+l(g.value?"Running ML Forecast...":"Run Precision Decay Forecast"),1)],8,_e),c.value?(a(),r("div",Me,[e[33]||(e[33]=t("div",{class:"flex items-center gap-3 mb-4"},[t("div",{class:"w-10 h-10 bg-emerald-500 text-white rounded-xl flex items-center justify-center font-black"},"AI"),t("h4",{class:"font-black text-emerald-900 text-lg"},"Resurgence Prediction")],-1)),t("p",Be,[e[29]||(e[29]=i(" Trend is currently ",-1)),t("strong",je,l(c.value.decay_status),1),e[30]||(e[30]=i(" with a forecast value of ",-1)),t("strong",null,l(c.value.forecast_30d),1),e[31]||(e[31]=i(" in 30 days. Probability of resurgence: ",-1)),t("strong",null,l((c.value.resurgence_probability*100).toFixed(1))+"%",1),e[32]||(e[32]=i(". ",-1))])])):k("",!0)])])):k("",!0)]),_:1})]),_:1})}}};export{Ae as default};
