import{b as l,m as H,e as T,c as n,y as g,f as e,t as a,g as i,K as D,o as le,T as M,F as P,i as U,n as k,h as u,u as o,j as b,v as $,k as C,d as L,R as ne,r as _,s as re,N as E}from"./app-DEuTNCnh.js";import{_ as ae}from"./AppLayout-TSaxgyKQ.js";/* empty css            */import"./Toaster-BX0O4gxR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={class:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl border border-slate-100"},de={class:"flex flex-col items-center text-center"},ue={class:"text-2xl font-bold text-slate-900 mb-2"},ce={class:"text-slate-500 mb-8 leading-relaxed"},pe={class:"flex gap-4 w-full"},be={__name:"ConfirmationModal",props:{show:Boolean,title:String,message:String,confirmText:{type:String,default:"Confirm"},cancelText:{type:String,default:"Cancel"}},emits:["close","confirm"],setup(c){return(m,y)=>(l(),H(D,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:T(()=>[c.show?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",onClick:y[2]||(y[2]=g(j=>m.$emit("close"),["self"]))},[e("div",ie,[e("div",de,[y[3]||(y[3]=e("div",{class:"w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center mb-6 text-red-500"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("h3",ue,a(c.title),1),e("p",ce,a(c.message),1),e("div",pe,[e("button",{type:"button",onClick:y[0]||(y[0]=j=>m.$emit("close")),class:"flex-1 px-4 py-3 rounded-xl font-bold text-slate-600 hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-standard"},a(c.cancelText),1),e("button",{type:"button",onClick:y[1]||(y[1]=j=>m.$emit("confirm")),class:"flex-1 bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-xl font-bold transition-standard shadow-lg shadow-red-500/20 active:scale-95"},a(c.confirmText),1)])])])])):i("",!0)]),_:1}))}},me={class:"max-w-5xl mx-auto space-y-8"},fe={class:"flex flex-wrap gap-1 bg-slate-100/50 p-1.5 rounded-xl w-fit max-w-full"},xe=["onClick"],ge={key:0,class:"space-y-6 animate-fade-in"},ve={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium p-8"},ye={class:"space-y-2"},we={key:0,class:"text-red-500 text-sm font-medium"},he={class:"flex justify-end"},_e=["disabled"],ke={key:1,class:"space-y-6 animate-fade-in"},Ce={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium p-8"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Me={class:"space-y-2"},Pe={class:"space-y-2"},je={class:"space-y-2"},Ae={class:"space-y-2"},ze={class:"flex justify-end pt-4 border-t border-slate-100"},Ue=["disabled"],Ve={key:2,class:"space-y-6 animate-fade-in"},Ie={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium p-8"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Te={class:"space-y-2"},Be={key:0,class:"text-red-500 text-sm font-medium"},Ge={class:"space-y-2"},Re={key:0,class:"text-red-500 text-sm font-medium"},Le={class:"flex justify-end"},Ee=["disabled"],De={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium p-8"},Ne={class:"space-y-2"},Fe={key:0,class:"text-red-500 text-sm font-medium"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Oe={class:"space-y-2"},He={key:0,class:"text-red-500 text-sm font-medium"},Ke={class:"space-y-2"},We={class:"flex justify-end"},Qe=["disabled"],Je={key:3,class:"space-y-6 animate-fade-in"},Xe={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium p-8"},Ye={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium space-y-8"},Ze={class:"space-y-4"},et={class:"relative"},tt=["value"],st={class:"space-y-4 pt-6 border-t border-slate-100"},ot={class:"flex items-center justify-between"},lt={class:"space-y-4 pt-6 border-t border-slate-100"},nt={class:"relative"},rt={class:"pt-4 flex justify-end"},at=["disabled"],it={key:4,class:"space-y-6 animate-fade-in"},dt={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium p-8"},ut={class:"space-y-10"},ct={class:"p-8 bg-blue-50/30 rounded-[2rem] border border-blue-100/50"},pt={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},bt=["href"],mt={key:0,class:"mb-6 p-4 bg-green-50 text-green-700 rounded-xl border border-green-200 font-medium text-sm flex items-center gap-3"},ft={key:1,class:"mb-6 p-4 bg-green-50 text-green-700 rounded-xl border border-green-100 font-medium text-sm"},xt={key:2,class:"mb-6 p-4 bg-amber-50 text-amber-800 rounded-xl border border-amber-200 font-medium text-sm flex items-start gap-3"},gt={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},vt={class:"space-y-2"},yt={class:"space-y-2"},wt={class:"space-y-2"},ht={class:"space-y-2"},_t={class:"flex justify-end pt-2"},kt=["disabled"],Ct={class:"space-y-6"},St={class:"flex items-center justify-between px-2"},Mt={class:"text-xs font-bold text-slate-400 uppercase tracking-widest"},Pt={key:0,class:"grid grid-cols-1 gap-4"},jt={class:"flex items-start md:items-center gap-4 md:gap-5"},At={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},zt={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ut={class:"min-w-0"},Vt={class:"font-bold text-slate-900 truncate"},It={class:"text-sm text-slate-400 font-medium truncate"},$t={class:"text-xs text-slate-400 break-all"},Tt={key:0,class:"inline-flex items-center gap-1 mt-1 text-xs font-bold text-amber-700 bg-amber-100 px-2 py-0.5 rounded-full"},Bt={key:1,class:"inline-flex items-center gap-1 mt-1 text-xs font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded-full"},Gt={class:"flex items-center gap-4 md:gap-6 pt-3 md:pt-0 border-t md:border-0 border-slate-50 justify-end md:justify-start"},Rt=["href"],Lt=["onClick"],Et=["onClick"],Dt={key:1,class:"text-center py-12 p-8 bg-slate-50 rounded-[2rem] border-2 border-dashed border-slate-200"},Nt={class:"pt-10 border-t border-slate-100"},Ft={class:"space-y-2"},qt={class:"space-y-4 pt-4 border-t border-slate-100"},Ot={class:"flex items-center justify-between"},Ht={class:"flex justify-end"},Kt=["disabled"],Wt={key:5,class:"space-y-6 animate-fade-in"},Qt={class:"flex justify-between items-center bg-blue-50/50 p-6 rounded-3xl border border-blue-100"},Jt={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium overflow-hidden"},Xt={class:"divide-y divide-slate-100"},Yt={class:"flex items-center gap-4"},Zt={class:"w-12 h-12 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 border border-slate-200 flex items-center justify-center text-slate-500 font-bold text-lg overflow-hidden"},es=["src","alt"],ts={key:1},ss={class:"font-bold text-slate-900"},os={class:"text-sm text-slate-500"},ls={class:"flex items-center gap-4"},ns={class:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-slate-100 text-slate-600"},rs=["onClick"],as={key:0},is={class:"bg-white rounded-[2.5rem] border border-slate-100 shadow-premium overflow-hidden"},ds={class:"divide-y divide-slate-100"},us={class:"font-bold text-slate-900"},cs={class:"text-sm text-slate-500"},ps=["onClick"],bs={class:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl"},ms={class:"space-y-2"},fs={key:0,class:"text-red-500 text-sm font-medium"},xs={class:"space-y-2"},gs={class:"flex gap-4 pt-2"},vs=["disabled"],ys={class:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl"},ws={class:"space-y-2"},hs={key:0,class:"text-red-500 text-sm font-medium"},_s={class:"space-y-2"},ks={key:0,class:"text-red-500 text-sm font-medium"},Cs={class:"flex gap-4 pt-2"},Ss=["disabled"],Us={__name:"Index",props:{organization:Object,members:Array,invitations:Array,currentUserRole:String,aiModels:Array,analyticsProperties:Array},setup(c){const m=c,j=ne().props.auth.user,N=[{id:"general",name:"General"},{id:"brand_ai",name:"Brand & AI Context"},{id:"account",name:"Account"},{id:"ai",name:"AI Configuration"},{id:"analytics",name:"Analytics"},{id:"team",name:"Team Members"}],w=_("general"),K=re(()=>m.analyticsProperties?.some(d=>d.google_token_invalid)??!1);le(()=>{const t=new URLSearchParams(window.location.search).get("tab");t&&N.find(s=>s.id===t)&&(w.value=t)});const A=_(!1),z=_(!1),B=_(null),V=_(!1),F=_(""),q=_(""),G=_(null),O=_("Confirm"),r=M({name:m.organization.name,keyword_discovery_frequency:m.organization.keyword_discovery_frequency||24,settings:{ai_model:m.organization.settings?.ai_model||"gpt-4",ai_insights_enabled:m.organization.settings?.ai_insights_enabled!==!1,industry:m.organization.settings?.industry||"",business_profile:{target_audience:m.organization.settings?.business_profile?.target_audience||"",value_proposition:m.organization.settings?.business_profile?.value_proposition||"",competitors:m.organization.settings?.business_profile?.competitors||""},analytics_period:m.organization.settings?.analytics_period||"30d",notifications_enabled:m.organization.settings?.notifications_enabled||!1}}),x=M({name:"",property_id:"",website_url:"",gsc_site_url:""}),f=M({name:"",gsc_site_url:""}),h=M({email:"",role:"member"}),v=M({name:j.name,email:j.email}),p=M({current_password:"",password:"",password_confirmation:""}),I=()=>{r.put(route("organization.update"),{preserveScroll:!0})},W=()=>{v.patch(route("profile.update"),{preserveScroll:!0})},Q=()=>{p.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>p.reset(),onError:()=>{p.errors.password&&p.reset("password","password_confirmation"),p.errors.current_password&&p.reset("current_password")}})},J=()=>{x.post(route("analytics.properties.store"),{onSuccess:()=>x.reset(),preserveScroll:!0})},X=d=>{R("Disconnect GA4 Property","Are you sure you want to disconnect this GA4 property? Historical data will remain but no new data will be fetched.",()=>E.delete(route("analytics.properties.destroy",d)),"Disconnect Property")},Y=d=>{B.value=d,f.name=d.name,f.gsc_site_url=d.gsc_site_url||"",z.value=!0},Z=()=>{f.put(route("analytics.properties.update",B.value.id),{preserveScroll:!0,onSuccess:()=>{z.value=!1,f.reset(),B.value=null}})},ee=()=>{h.post(route("team-invitations.store"),{onSuccess:()=>{A.value=!1,h.reset()}})},R=(d,t,s,S="Confirm")=>{F.value=d,q.value=t,G.value=s,O.value=S,V.value=!0},te=()=>{G.value&&G.value(),V.value=!1},se=d=>{R("Remove Team Member","Are you sure you want to remove this member from the organization? They will lose access immediately.",()=>E.delete(route("team-members.destroy",d)),"Remove Member")},oe=d=>{R("Revoke Invitation","Are you sure you want to revoke this invitation? The link sent to the user will become invalid.",()=>E.delete(route("team-invitations.destroy",d)),"Revoke Invitation")};return(d,t)=>(l(),H(ae,{title:"Organization Settings"},{default:T(()=>[e("div",me,[t[87]||(t[87]=e("div",{class:"border-b border-slate-200 pb-5"},[e("h1",{class:"text-3xl font-bold text-slate-900 tracking-tight"},"Settings"),e("p",{class:"text-slate-500 mt-2"},"Manage your workspace configuration, personal account, and team members.")],-1)),e("div",fe,[(l(),n(P,null,U(N,s=>e("button",{key:s.id,onClick:S=>w.value=s.id,class:k(["px-5 py-2.5 rounded-lg text-sm font-bold transition-all whitespace-nowrap",w.value===s.id?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-white/50"])},a(s.name),11,xe)),64))]),w.value==="general"?(l(),n("div",ge,[e("div",ve,[t[30]||(t[30]=e("h2",{class:"text-xl font-bold text-slate-900 mb-6"},"Workspace Details",-1)),e("form",{onSubmit:g(I,["prevent"]),class:"space-y-6"},[e("div",ye,[t[29]||(t[29]=e("label",{class:"text-sm font-bold text-slate-700"},"Organization Name",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(r).name=s),type:"text",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(r).name]]),o(r).errors.name?(l(),n("div",we,a(o(r).errors.name),1)):i("",!0)]),e("div",he,[e("button",{type:"submit",disabled:o(r).processing,class:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-2.5 rounded-xl font-bold transition-standard shadow-lg shadow-slate-200 active:scale-95 disabled:opacity-70"}," Save Changes ",8,_e)])],32)])])):i("",!0),w.value==="brand_ai"?(l(),n("div",ke,[e("div",Ce,[t[35]||(t[35]=e("div",{class:"flex items-start justify-between mb-8"},[e("div",null,[e("h2",{class:"text-xl font-bold text-slate-900"},"Brand & AI Context"),e("p",{class:"text-slate-500 mt-1"},"Provide details about your business to help AI generate more accurate recommendations.")]),e("div",{class:"bg-blue-50 text-blue-700 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider"}," AI Knowledge Base ")],-1)),e("form",{onSubmit:g(I,["prevent"]),class:"space-y-6"},[e("div",Se,[e("div",Me,[t[31]||(t[31]=e("label",{class:"text-sm font-bold text-slate-700"},"Industry / Niche",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o(r).settings.industry=s),type:"text",placeholder:"e.g. E-commerce, Real Estate, SaaS",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(r).settings.industry]])]),e("div",Pe,[t[32]||(t[32]=e("label",{class:"text-sm font-bold text-slate-700"},"Target Audience",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o(r).settings.business_profile.target_audience=s),type:"text",placeholder:"e.g. Small business owners in Florida",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(r).settings.business_profile.target_audience]])])]),e("div",je,[t[33]||(t[33]=e("label",{class:"text-sm font-bold text-slate-700"},"Unique Value Proposition",-1)),u(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>o(r).settings.business_profile.value_proposition=s),rows:"3",placeholder:"What makes your business different? e.g. Fastest delivery, eco-friendly materials, 24/7 support.",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium resize-none"},null,512),[[b,o(r).settings.business_profile.value_proposition]])]),e("div",Ae,[t[34]||(t[34]=e("label",{class:"text-sm font-bold text-slate-700"},"Key Competitors (Optional)",-1)),u(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(r).settings.business_profile.competitors=s),rows:"2",placeholder:"List main competitors to help AI understand your market positioning.",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium resize-none"},null,512),[[b,o(r).settings.business_profile.competitors]])]),e("div",ze,[e("button",{type:"submit",disabled:o(r).processing,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-bold transition-standard shadow-lg shadow-blue-200 active:scale-95 disabled:opacity-70"}," Save Context ",8,Ue)])],32)])])):i("",!0),w.value==="account"?(l(),n("div",Ve,[e("div",Ie,[t[38]||(t[38]=e("h2",{class:"text-xl font-bold text-slate-900 mb-6"},"Profile Information",-1)),e("form",{onSubmit:g(W,["prevent"]),class:"space-y-6"},[e("div",$e,[e("div",Te,[t[36]||(t[36]=e("label",{class:"text-sm font-bold text-slate-700"},"Name",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o(v).name=s),type:"text",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(v).name]]),o(v).errors.name?(l(),n("div",Be,a(o(v).errors.name),1)):i("",!0)]),e("div",Ge,[t[37]||(t[37]=e("label",{class:"text-sm font-bold text-slate-700"},"Email",-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(v).email=s),type:"email",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(v).email]]),o(v).errors.email?(l(),n("div",Re,a(o(v).errors.email),1)):i("",!0)])]),e("div",Le,[e("button",{type:"submit",disabled:o(v).processing,class:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-2.5 rounded-xl font-bold transition-standard shadow-lg shadow-slate-200 active:scale-95 disabled:opacity-70"},"Save Profile",8,Ee)])],32)]),e("div",De,[t[42]||(t[42]=e("h2",{class:"text-xl font-bold text-slate-900 mb-6"},"Update Password",-1)),e("form",{onSubmit:g(Q,["prevent"]),class:"space-y-6"},[e("div",Ne,[t[39]||(t[39]=e("label",{class:"text-sm font-bold text-slate-700"},"Current Password",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o(p).current_password=s),type:"password",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(p).current_password]]),o(p).errors.current_password?(l(),n("div",Fe,a(o(p).errors.current_password),1)):i("",!0)]),e("div",qe,[e("div",Oe,[t[40]||(t[40]=e("label",{class:"text-sm font-bold text-slate-700"},"New Password",-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>o(p).password=s),type:"password",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(p).password]]),o(p).errors.password?(l(),n("div",He,a(o(p).errors.password),1)):i("",!0)]),e("div",Ke,[t[41]||(t[41]=e("label",{class:"text-sm font-bold text-slate-700"},"Confirm Password",-1)),u(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o(p).password_confirmation=s),type:"password",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(p).password_confirmation]])])]),e("div",We,[e("button",{type:"submit",disabled:o(p).processing,class:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-2.5 rounded-xl font-bold transition-standard shadow-lg shadow-slate-200 active:scale-95 disabled:opacity-70"},"Update Password",8,Qe)])],32)])])):i("",!0),w.value==="ai"?(l(),n("div",Je,[e("div",Xe,[t[55]||(t[55]=e("div",{class:"flex items-center gap-4 mb-6"},[e("div",{class:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center text-purple-600"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",null,[e("h2",{class:"text-xl font-bold text-slate-900"},"AI Configuration"),e("p",{class:"text-sm text-slate-500"},"System-wide AI settings are managed by administrators.")])],-1)),e("div",Ye,[e("div",Ze,[t[47]||(t[47]=e("label",{class:"block font-bold text-slate-700"},"Generative AI Model",-1)),e("div",et,[u(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>o(r).settings.ai_model=s),class:"w-full bg-slate-50 border-slate-200 rounded-2xl px-6 py-4 appearance-none font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},[c.aiModels&&c.aiModels.length?(l(!0),n(P,{key:0},U(c.aiModels,s=>(l(),n("option",{key:s.id,value:s.id},a(s.name),9,tt))),128)):(l(),n(P,{key:1},[t[43]||(t[43]=e("option",{value:"gpt-4o"},"GPT-4o",-1)),t[44]||(t[44]=e("option",{value:"gpt-4"},"GPT-4",-1)),t[45]||(t[45]=e("option",{value:"gpt-3.5-turbo"},"GPT-3.5 Turbo",-1))],64))],512),[[$,o(r).settings.ai_model]]),t[46]||(t[46]=e("div",{class:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),t[48]||(t[48]=e("p",{class:"text-sm text-slate-500"},"Select the underlying intelligence engine for your automated schema analysis. 'User Based' configuration applies to this entire organization.",-1))]),e("div",st,[e("div",ot,[t[49]||(t[49]=e("div",null,[e("p",{class:"font-bold text-slate-900 text-lg"},"Enable AI Insights"),e("p",{class:"text-sm text-slate-500"},"Automatically generate SEO performance summaries and keyword strategies.")],-1)),e("button",{type:"button",onClick:t[11]||(t[11]=s=>o(r).settings.ai_insights_enabled=!o(r).settings.ai_insights_enabled),class:k(["relative inline-flex h-7 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",o(r).settings.ai_insights_enabled?"bg-purple-600":"bg-slate-200"])},[e("span",{class:k(["pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",o(r).settings.ai_insights_enabled?"translate-x-5":"translate-x-0"])},null,2)],2)])]),e("div",lt,[t[52]||(t[52]=e("label",{class:"block font-bold text-slate-700"},"Keyword Discovery Frequency",-1)),e("div",nt,[u(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>o(r).keyword_discovery_frequency=s),class:"w-full bg-slate-50 border-slate-200 rounded-2xl px-6 py-4 appearance-none font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},[...t[50]||(t[50]=[e("option",{value:3},"Every 3 hours",-1),e("option",{value:6},"Every 6 hours",-1),e("option",{value:12},"Every 12 hours",-1),e("option",{value:24},"Every 24 hours (Daily)",-1)])],512),[[$,o(r).keyword_discovery_frequency]]),t[51]||(t[51]=e("div",{class:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),t[53]||(t[53]=e("p",{class:"text-sm text-slate-500"},"Determine how often the Smart Engine should scan for new trending keywords tailored to your niche.",-1))]),t[54]||(t[54]=e("div",{class:"p-6 bg-blue-50 rounded-2xl border border-blue-100 flex gap-4"},[e("div",{class:"text-blue-500 shrink-0"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("p",{class:"text-sm text-blue-800 leading-relaxed"},[e("strong",null,"Note:"),C(" This setting controls the analysis phase logic. AI Insights require an active OpenAI API key to be configured in the system environment. ")])],-1)),e("div",rt,[e("button",{onClick:I,disabled:o(r).processing,class:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-standard shadow-lg active:scale-95 disabled:opacity-50"},a(o(r).processing?"Saving...":"Save Configuration"),9,at)])])])])):i("",!0),w.value==="analytics"?(l(),n("div",it,[e("div",dt,[t[75]||(t[75]=e("div",{class:"flex items-center gap-4 mb-6"},[e("div",{class:"w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),e("div",null,[e("h2",{class:"text-xl font-bold text-slate-900"},"Analytics Settings"),e("p",{class:"text-sm text-slate-500"},"Configure how data is reported in your dashboard.")])],-1)),e("div",ut,[e("div",ct,[e("div",pt,[t[57]||(t[57]=e("div",null,[e("h3",{class:"text-lg font-bold text-slate-900"},"Connect GA4 Property"),e("p",{class:"text-sm text-slate-500 mt-1"},"Link your website's analytics data to track performance.")],-1)),e("a",{href:d.route("auth.google",{intent:"connect"}),class:"flex items-center justify-center gap-2 bg-white border border-slate-200 px-5 py-3 rounded-xl font-bold hover:shadow-md hover:border-blue-200 transition-all text-sm shrink-0"},[...t[56]||(t[56]=[e("img",{src:"https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png",class:"w-5 h-5",alt:"Google"},null,-1),C(" Connect Google Account ",-1)])],8,bt)]),d.$page.props.flash.success?(l(),n("div",mt,[t[58]||(t[58]=e("svg",{class:"w-5 h-5 shrink-0 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),C(" "+a(d.$page.props.flash.success),1)])):i("",!0),d.$page.props.flash.message?(l(),n("div",ft,a(d.$page.props.flash.message),1)):i("",!0),K.value?(l(),n("div",xt,[...t[59]||(t[59]=[e("svg",{class:"w-5 h-5 shrink-0 text-amber-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),e("div",null,[e("p",{class:"font-bold"},"Google connection expired"),e("p",{class:"mt-0.5"},"One or more of your GA4 properties can't connect to Google. Please reconnect your Google account to restore analytics data.")],-1)])])):i("",!0),e("form",{onSubmit:g(J,["prevent"]),class:"flex flex-col gap-5"},[e("div",gt,[e("div",vt,[t[60]||(t[60]=e("label",{class:"text-sm font-bold text-slate-700"},"Display Name",-1)),u(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>o(x).name=s),type:"text",placeholder:"e.g. My Main Site",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-white"},null,512),[[b,o(x).name]])]),e("div",yt,[t[61]||(t[61]=e("label",{class:"text-sm font-bold text-slate-700"},"GA4 Property ID",-1)),u(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>o(x).property_id=s),type:"text",placeholder:"e.g. 123456789",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-white"},null,512),[[b,o(x).property_id]])])]),e("div",wt,[t[62]||(t[62]=e("label",{class:"text-sm font-bold text-slate-700"},"Website URL",-1)),u(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>o(x).website_url=s),type:"url",placeholder:"https://example.com",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-white"},null,512),[[b,o(x).website_url]])]),e("div",ht,[t[63]||(t[63]=e("label",{class:"text-sm font-bold text-slate-700"},"Search Console Site URL",-1)),u(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>o(x).gsc_site_url=s),type:"text",placeholder:"sc-domain:example.com",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-white"},null,512),[[b,o(x).gsc_site_url]])]),e("div",_t,[e("button",{type:"submit",disabled:o(x).processing,class:"bg-blue-600 text-white px-8 py-3.5 rounded-2xl font-bold hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 active:scale-95 disabled:opacity-50"},a(o(x).processing?"Connecting...":"Connect Property"),9,kt)])],32)]),e("div",Ct,[e("div",St,[t[64]||(t[64]=e("h3",{class:"text-lg font-bold text-slate-900"},"Connected GA4 Properties",-1)),e("span",Mt,a(c.analyticsProperties.length)+" Properties",1)]),c.analyticsProperties.length?(l(),n("div",Pt,[(l(!0),n(P,null,U(c.analyticsProperties,s=>(l(),n("div",{key:s.id,class:k(["p-4 md:p-6 bg-white rounded-3xl border flex flex-col md:flex-row md:items-center justify-between gap-4 group transition-all",s.google_token_invalid?"border-amber-300 bg-amber-50/30":"border-slate-100 hover:border-blue-500/30"])},[e("div",jt,[e("div",{class:k(["w-12 h-12 rounded-2xl flex shrink-0 items-center justify-center",s.google_token_invalid?"bg-amber-100 text-amber-600":"bg-slate-50 text-slate-400"])},[s.google_token_invalid?(l(),n("svg",At,[...t[65]||(t[65]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(l(),n("svg",zt,[...t[66]||(t[66]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])]))],2),e("div",Ut,[e("p",Vt,a(s.name),1),e("p",It,"GA4: "+a(s.property_id)+" • GSC: "+a(s.gsc_site_url||"Not set"),1),e("p",$t,a(s.website_url),1),s.google_token_invalid?(l(),n("span",Tt,[...t[67]||(t[67]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),C(" Token expired — reconnect required ",-1)])])):s.has_google_token?(l(),n("span",Bt,[...t[68]||(t[68]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),C(" Google connected ",-1)])])):i("",!0)])]),e("div",Gt,[s.google_token_invalid?(l(),n("a",{key:0,href:d.route("auth.google",{intent:"connect"}),class:"flex items-center gap-1.5 text-amber-700 hover:text-amber-900 font-bold text-sm transition-colors bg-amber-100 hover:bg-amber-200 px-3 py-1.5 rounded-lg"},[...t[69]||(t[69]=[e("img",{src:"https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png",class:"w-4 h-4",alt:"Google"},null,-1),C(" Reconnect ",-1)])],8,Rt)):i("",!0),e("button",{onClick:S=>Y(s),class:"text-slate-400 hover:text-blue-600 font-bold text-sm transition-colors"},"Edit",8,Lt),e("button",{onClick:S=>X(s.id),class:"text-slate-400 hover:text-red-600 font-bold text-sm transition-colors"},"Disconnect",8,Et)])],2))),128))])):(l(),n("div",Dt,[...t[70]||(t[70]=[e("p",{class:"text-slate-500 font-medium"},"No properties connected yet.",-1)])]))]),e("div",Nt,[t[74]||(t[74]=e("h3",{class:"text-lg font-bold text-slate-900 mb-6"},"General Preferences",-1)),e("form",{onSubmit:g(I,["prevent"]),class:"space-y-6"},[e("div",Ft,[t[72]||(t[72]=e("label",{class:"text-sm font-bold text-slate-700"},"Default Reporting Period",-1)),u(e("select",{"onUpdate:modelValue":t[17]||(t[17]=s=>o(r).settings.analytics_period=s),class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-white transition-standard outline-none font-medium"},[...t[71]||(t[71]=[e("option",{value:"7d"},"Last 7 Days",-1),e("option",{value:"30d"},"Last 30 Days",-1),e("option",{value:"90d"},"Last 90 Days",-1)])],512),[[$,o(r).settings.analytics_period]])]),e("div",qt,[e("div",Ot,[t[73]||(t[73]=e("div",null,[e("p",{class:"font-bold text-slate-900"},"Weekly Email Reports"),e("p",{class:"text-sm text-slate-500"},"Receive a summary of your schema performance every Monday.")],-1)),e("button",{type:"button",onClick:t[18]||(t[18]=s=>o(r).settings.notifications_enabled=!o(r).settings.notifications_enabled),class:k(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",o(r).settings.notifications_enabled?"bg-blue-600":"bg-slate-200"])},[e("span",{class:k(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",o(r).settings.notifications_enabled?"translate-x-5":"translate-x-0"])},null,2)],2)])]),e("div",Ht,[e("button",{type:"submit",disabled:o(r).processing,class:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-2.5 rounded-xl font-bold transition-standard shadow-lg shadow-slate-200 active:scale-95 disabled:opacity-70"},"Save Preferences",8,Kt)])],32)])])])])):i("",!0),w.value==="team"?(l(),n("div",Wt,[e("div",Qt,[t[77]||(t[77]=e("div",null,[e("h3",{class:"font-bold text-blue-900"},"Invite Team Members"),e("p",{class:"text-sm text-blue-700"},"Add colleagues to collaborate on schemas.")],-1)),e("button",{onClick:t[19]||(t[19]=s=>A.value=!0),class:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2.5 rounded-xl font-bold transition-standard shadow-lg shadow-blue-500/20 active:scale-95 flex items-center gap-2"},[...t[76]||(t[76]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),C(" Invite Member ",-1)])])]),e("div",Jt,[e("div",Xt,[(l(!0),n(P,null,U(c.members,s=>(l(),n("div",{key:s.id,class:"p-6 flex items-center justify-between group hover:bg-slate-50 transition-standard"},[e("div",Yt,[e("div",Zt,[s.avatar_url?(l(),n("img",{key:0,src:s.avatar_url,alt:s.name,class:"w-full h-full object-cover"},null,8,es)):(l(),n("span",ts,a(s.name.charAt(0)),1))]),e("div",null,[e("p",ss,a(s.name),1),e("p",os,a(s.email),1)])]),e("div",ls,[e("span",ns,a(s.role),1),c.currentUserRole==="owner"&&s.id!==d.$page.props.auth.user.id?(l(),n("button",{key:0,onClick:S=>se(s.id),class:"text-slate-400 hover:text-red-600 transition-colors p-2"}," Remove ",8,rs)):i("",!0)])]))),128))])]),c.invitations.length>0?(l(),n("div",as,[t[78]||(t[78]=e("h3",{class:"text-lg font-bold text-slate-900 mb-4 ml-2"},"Pending Invitations",-1)),e("div",is,[e("div",ds,[(l(!0),n(P,null,U(c.invitations,s=>(l(),n("div",{key:s.id,class:"p-6 flex items-center justify-between"},[e("div",null,[e("p",us,a(s.email),1),e("p",cs,"Role: "+a(s.role),1)]),e("button",{onClick:S=>oe(s.id),class:"text-red-600 font-bold text-sm hover:underline"},"Revoke",8,ps)]))),128))])])])):i("",!0)])):i("",!0),L(D,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:T(()=>[A.value?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",onClick:t[23]||(t[23]=g(s=>A.value=!1,["self"]))},[e("div",bs,[t[82]||(t[82]=e("h3",{class:"text-2xl font-bold text-slate-900 mb-6"},"Invite Team Member",-1)),e("form",{onSubmit:g(ee,["prevent"]),class:"space-y-6"},[e("div",ms,[t[79]||(t[79]=e("label",{class:"text-sm font-bold text-slate-700"},"Email Address",-1)),u(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>o(h).email=s),type:"email",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(h).email]]),o(h).errors.email?(l(),n("div",fs,a(o(h).errors.email),1)):i("",!0)]),e("div",xs,[t[81]||(t[81]=e("label",{class:"text-sm font-bold text-slate-700"},"Role",-1)),u(e("select",{"onUpdate:modelValue":t[21]||(t[21]=s=>o(h).role=s),class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 bg-white"},[...t[80]||(t[80]=[e("option",{value:"member"},"Member",-1),e("option",{value:"admin"},"Admin",-1)])],512),[[$,o(h).role]])]),e("div",gs,[e("button",{type:"button",onClick:t[22]||(t[22]=s=>A.value=!1),class:"flex-1 px-4 py-3 rounded-xl font-bold text-slate-600 hover:bg-slate-100"},"Cancel"),e("button",{type:"submit",disabled:o(h).processing,class:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-4 py-3 rounded-xl font-bold shadow-lg shadow-blue-500/20"},"Send Invite",8,vs)])],32)])])):i("",!0)]),_:1}),L(D,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:T(()=>[z.value?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",onClick:t[27]||(t[27]=g(s=>z.value=!1,["self"]))},[e("div",ys,[t[86]||(t[86]=e("h3",{class:"text-2xl font-bold text-slate-900 mb-6"},"Edit Property",-1)),e("form",{onSubmit:g(Z,["prevent"]),class:"space-y-6"},[e("div",ws,[t[83]||(t[83]=e("label",{class:"text-sm font-bold text-slate-700"},"Property Name",-1)),u(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>o(f).name=s),type:"text",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(f).name]]),o(f).errors.name?(l(),n("div",hs,a(o(f).errors.name),1)):i("",!0)]),e("div",_s,[t[84]||(t[84]=e("label",{class:"text-sm font-bold text-slate-700"},"Search Console Site URL",-1)),u(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>o(f).gsc_site_url=s),type:"text",placeholder:"https://www.example.com/ or sc-domain:example.com",class:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-standard outline-none font-medium"},null,512),[[b,o(f).gsc_site_url]]),o(f).errors.gsc_site_url?(l(),n("div",ks,a(o(f).errors.gsc_site_url),1)):i("",!0),t[85]||(t[85]=e("p",{class:"text-xs text-slate-500"},"Copy the property URL exactly as shown in Google Search Console.",-1))]),e("div",Cs,[e("button",{type:"button",onClick:t[26]||(t[26]=s=>z.value=!1),class:"flex-1 px-4 py-3 rounded-xl font-bold text-slate-600 hover:bg-slate-100"},"Cancel"),e("button",{type:"submit",disabled:o(f).processing,class:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-4 py-3 rounded-xl font-bold shadow-lg shadow-blue-500/20"},"Save Changes",8,Ss)])],32)])])):i("",!0)]),_:1}),L(be,{show:V.value,title:F.value,message:q.value,"confirm-text":O.value,onClose:t[28]||(t[28]=s=>V.value=!1),onConfirm:te},null,8,["show","title","message","confirm-text"])])]),_:1}))}};export{Us as default};
