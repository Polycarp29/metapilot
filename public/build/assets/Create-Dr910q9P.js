import{y as G,b as a,c as r,d as S,u as i,Z as W,e as D,f as e,l as R,k as f,t as d,h as p,F as u,i as c,v as Q,j as y,B as K,n as O,g as E,r as g,s as h}from"./app-B8pG1dc9.js";import{_ as Z}from"./AppLayout-6DG4toAL.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./Toaster-DAEcq-eg.js";const H={class:"max-w-[1000px] mx-auto p-6 lg:p-10 space-y-10"},J={class:"flex items-center justify-between"},X=["disabled"],Y={key:0,class:"animate-spin"},ee={key:1},te={class:"grid grid-cols-1 lg:grid-cols-3 gap-10"},se={class:"lg:col-span-2 space-y-8"},oe={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium space-y-8"},le={class:"space-y-3"},ae=["value"],re={class:"space-y-3"},ne={class:"space-y-3"},ie={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium space-y-6"},de={class:"flex gap-4"},ue={class:"flex flex-wrap gap-3"},ce={class:"text-sm font-bold text-slate-600"},pe=["onClick"],ge={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium space-y-6"},be={class:"flex items-center justify-between"},xe=["disabled"],fe={key:0,class:"animate-spin"},ye={key:1},ve={class:"flex gap-4"},me={class:"flex flex-wrap gap-3"},_e={class:"text-sm font-bold text-blue-700"},he=["onClick"],we={key:0,class:"border-t border-slate-100 pt-6 mt-6 space-y-6 animate-fade-in"},ke={class:"flex items-center justify-between"},Ce={class:"flex gap-2"},Se={key:0,class:"space-y-4"},je={class:"flex flex-wrap gap-2"},Ae=["onClick"],Te={class:"flex items-center gap-2 text-slate-400 font-bold text-sm uppercase tracking-widest"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"text-xs font-bold text-slate-400 uppercase"},Be={class:"space-y-2"},De=["onClick"],Ke={class:"font-bold text-slate-700 group-hover:text-indigo-700"},Oe={class:"space-y-8"},Ee={class:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-premium space-y-6"},Ie={class:"space-y-3"},Ne={class:"space-y-3"},Pe=["disabled"],Le={__name:"Create",props:{properties:Array},setup(j){const o=G({analytics_property_id:j.properties[0]?.id||"",name:"",objective:"",target_urls:[],keywords:[],start_date:new Date().toISOString().split("T")[0],end_date:""}),v=g(!1),b=g(""),A=()=>{b.value&&!o.target_urls.includes(b.value)&&(o.target_urls.push(b.value),b.value="")},I=l=>{o.target_urls.splice(l,1)},N=async()=>{if(o.analytics_property_id){v.value=!0;try{const t=(await h.get(route("api.campaigns.propose",{property:o.analytics_property_id}))).data;if(t){o.name=t.campaign_name||t["Campaign Name"]||"",o.objective=t.objective||t["Primary Objective"]||"";const s=t.target_urls||t["Target URLs"]||[];Array.isArray(s)&&(o.target_urls=[...new Set([...o.target_urls,...s])])}}catch(l){console.error("AI Proposal failed:",l)}finally{v.value=!1}}},x=g(""),w=g(null),_=g(!1),T=g({}),k=g([]),P=async()=>{try{const l=await h.get(route("api.keywords.wallet.index"));k.value=l.data.data}catch(l){console.error("Failed to fetch wallet:",l)}},U=()=>{x.value&&!o.keywords.includes(x.value)&&(o.keywords.push(x.value),x.value="")},L=l=>{o.keywords.splice(l,1)},V=l=>{o.keywords.includes(l)||o.keywords.push(l)},$=async()=>{_.value=!0;try{await h.post(route("api.trending-keywords.discover"));const l=await h.get(route("api.trending-keywords.suggestions",{days_recent:30}));w.value=l.data.suggestions;const t={};Object.values(l.data.suggestions).forEach(s=>{Object.keys(s).forEach(n=>{t[n]=(t[n]||0)+s[n].length})}),T.value=t,await P()}catch(l){console.error("Failed to fetch trending keywords:",l)}finally{_.value=!1}},F=l=>{switch(l){case"high_potential":return"bg-green-100 text-green-600";case"rising":return"bg-blue-100 text-blue-600";case"seasonal":return"bg-purple-100 text-purple-600";default:return"bg-gray-100 text-gray-500"}},M=l=>l>50?"text-green-600":l>20?"text-blue-600":"text-slate-400",z=()=>{o.post(route("campaigns.store"))};return(l,t)=>(a(),r(u,null,[S(i(W),{title:"Start SEO Campaign"}),S(Z,null,{default:D(()=>[e("div",H,[e("div",J,[e("div",null,[S(i(R),{href:l.route("campaigns.index"),class:"text-sm font-bold text-slate-400 hover:text-blue-600 transition-colors uppercase tracking-widest flex items-center gap-2 mb-4"},{default:D(()=>[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),f(" Back to Campaigns ",-1)])]),_:1},8,["href"]),t[8]||(t[8]=e("h1",{class:"text-4xl font-black text-slate-900 tracking-tight"},"Create SEO Campaign",-1))]),e("button",{onClick:N,disabled:v.value||!i(o).analytics_property_id,class:"flex items-center gap-3 px-6 py-3 bg-indigo-50 text-indigo-700 rounded-2xl font-bold hover:bg-indigo-100 transition-all border border-indigo-100 disabled:opacity-50"},[v.value?(a(),r("span",Y,"ðŸŒ€")):(a(),r("span",ee,"âœ¨")),f(" "+d(v.value?"Analyzing Data...":"Get AI Suggestion"),1)],8,X)]),e("div",te,[e("div",se,[e("div",oe,[e("div",le,[t[9]||(t[9]=e("label",{class:"block font-bold text-slate-700"},"Analytics Property",-1)),p(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>i(o).analytics_property_id=s),class:"w-full bg-slate-50 border-slate-100 rounded-2xl px-6 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},[(a(!0),r(u,null,c(j.properties,s=>(a(),r("option",{key:s.id,value:s.id},d(s.name),9,ae))),128))],512),[[Q,i(o).analytics_property_id]])]),e("div",re,[t[10]||(t[10]=e("label",{class:"block font-bold text-slate-700"},"Campaign Name",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i(o).name=s),type:"text",placeholder:"e.g., Q1 Blog Engagement Boost",class:"w-full bg-slate-50 border-slate-100 rounded-2xl px-6 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},null,512),[[y,i(o).name]])]),e("div",ne,[t[11]||(t[11]=e("label",{class:"block font-bold text-slate-700"},"Primary Objective",-1)),p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>i(o).objective=s),rows:"4",placeholder:"What is the goal of this campaign?",class:"w-full bg-slate-50 border-slate-100 rounded-2xl px-6 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},null,512),[[y,i(o).objective]])])]),e("div",ie,[t[12]||(t[12]=e("label",{class:"block font-bold text-slate-700"},"Target URLs",-1)),e("div",de,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>b.value=s),onKeyup:K(A,["enter"]),type:"text",placeholder:"https://example.com/page",class:"flex-1 bg-slate-50 border-slate-100 rounded-2xl px-6 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},null,544),[[y,b.value]]),e("button",{onClick:A,class:"bg-slate-900 text-white px-8 rounded-2xl font-bold hover:bg-slate-800 transition-colors"},"Add")]),e("div",ue,[(a(!0),r(u,null,c(i(o).target_urls,(s,n)=>(a(),r("div",{key:n,class:"bg-slate-50 px-4 py-2 rounded-xl flex items-center gap-3 border border-slate-100 group"},[e("span",ce,d(s),1),e("button",{onClick:C=>I(n),class:"text-slate-400 hover:text-red-500 transition-colors"},"Ã—",8,pe)]))),128))])]),e("div",ge,[e("div",be,[t[14]||(t[14]=e("label",{class:"block font-bold text-slate-700"},"Campaign Keywords",-1)),e("button",{onClick:$,disabled:_.value,class:"text-sm font-bold text-indigo-600 hover:text-indigo-700 flex items-center gap-2 bg-indigo-50 px-4 py-2 rounded-xl transition-colors"},[_.value?(a(),r("span",fe,"ðŸŒ€")):(a(),r("span",ye,"ðŸ”¥")),t[13]||(t[13]=f(" Discover Trending ",-1))],8,xe)]),e("div",ve,[p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>x.value=s),onKeyup:K(U,["enter"]),type:"text",placeholder:"Add keyword...",class:"flex-1 bg-slate-50 border-slate-100 rounded-2xl px-6 py-4 font-bold text-slate-700 focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all"},null,544),[[y,x.value]]),e("button",{onClick:U,class:"bg-slate-900 text-white px-8 rounded-2xl font-bold hover:bg-slate-800 transition-colors"},"Add")]),e("div",me,[(a(!0),r(u,null,c(i(o).keywords,(s,n)=>(a(),r("div",{key:n,class:"bg-blue-50 px-4 py-2 rounded-xl flex items-center gap-3 border border-blue-100 group"},[e("span",_e,d(s),1),e("button",{onClick:C=>L(n),class:"text-blue-400 hover:text-red-500 transition-colors"},"Ã—",8,he)]))),128))]),w.value?(a(),r("div",we,[e("div",ke,[t[15]||(t[15]=e("h4",{class:"font-black text-slate-800"},"Trending Suggestions",-1)),e("div",Ce,[(a(!0),r(u,null,c(T.value,(s,n)=>(a(),r("button",{key:n,class:O(["text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider",F(n)])},d(n.replace("_"," ")),3))),128))])]),k.value.length>0?(a(),r("div",Se,[t[17]||(t[17]=e("div",{class:"flex items-center gap-2 text-slate-400 font-bold text-sm uppercase tracking-widest"},[e("span",{class:"text-lg"},"ðŸ’°"),f(" My Wallet ")],-1)),e("div",je,[(a(!0),r(u,null,c(k.value,s=>(a(),r("button",{key:s.id,onClick:n=>V(s.keyword),class:"bg-white hover:bg-amber-50 border border-slate-100 hover:border-amber-200 px-4 py-2 rounded-xl text-sm font-bold text-slate-700 transition-all flex items-center gap-2"},[t[16]||(t[16]=e("span",{class:"w-2 h-2 bg-amber-400 rounded-full"},null,-1)),f(" "+d(s.keyword),1)],8,Ae))),128))])])):E("",!0),(a(!0),r(u,null,c(w.value,(s,n)=>(a(),r("div",{key:n,class:"space-y-4"},[e("div",Te,[t[18]||(t[18]=e("span",{class:"text-lg"},"ðŸŒ",-1)),f(" "+d(n),1)]),e("div",Ue,[(a(!0),r(u,null,c(s,(C,B)=>(a(),r("div",{key:B,class:"space-y-2"},[e("h5",Ve,d(B.replace("_"," ")),1),e("div",Be,[(a(!0),r(u,null,c(C,m=>(a(),r("button",{key:m.id,onClick:Fe=>V(m.keyword),class:"w-full text-left bg-slate-50 hover:bg-indigo-50 border border-slate-100 hover:border-indigo-100 p-3 rounded-xl transition-all group flex items-center justify-between"},[e("span",Ke,d(m.keyword),1),e("span",{class:O(["text-xs font-bold",M(m.growth_rate)])}," +"+d(m.growth_rate)+"% ",3)],8,De))),128))])]))),128))])]))),128))])):E("",!0)])]),e("div",Oe,[e("div",Ee,[t[21]||(t[21]=e("div",{class:"space-y-3"},[e("label",{class:"block font-bold text-slate-700 text-sm italic"},"Status"),e("div",{class:"px-4 py-2 bg-slate-100 text-slate-500 rounded-xl font-black text-center uppercase tracking-widest text-xs"}," Draft ")],-1)),e("div",Ie,[t[19]||(t[19]=e("label",{class:"block font-bold text-slate-700"},"Start Date",-1)),p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>i(o).start_date=s),type:"date",class:"w-full bg-slate-50 border-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700"},null,512),[[y,i(o).start_date]])]),e("div",Ne,[t[20]||(t[20]=e("label",{class:"block font-bold text-slate-700"},"End Date (Optional)",-1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>i(o).end_date=s),type:"date",class:"w-full bg-slate-50 border-slate-100 rounded-xl px-4 py-3 font-bold text-slate-700"},null,512),[[y,i(o).end_date]])]),e("button",{onClick:z,disabled:i(o).processing,class:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-2xl font-black shadow-lg shadow-blue-100 transition-all active:scale-95 disabled:opacity-50"},d(i(o).processing?"Saving...":"Launch Campaign"),9,Pe)]),t[22]||(t[22]=e("div",{class:"bg-indigo-600 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl"},[e("h4",{class:"font-black text-xl"},"Strategy Tip"),e("p",{class:"text-indigo-100 text-sm leading-relaxed"},"AI suggestions analyze your actual GA4 traffic to find pages with high impressions but low click-through rates. These are your biggest opportunities.")],-1))])])])]),_:1})],64))}},Qe=q(Le,[["__scopeId","data-v-711d9308"]]);export{Qe as default};
