import{w as H,o as L,b as l,m as T,e as z,f as e,n as c,k as h,d as $,u as I,l as K,c as a,t as r,F as y,i as w,g as b,h as S,j as F,v as E,r as u,s as x,q as G,Q as N}from"./app-CMbt6XLd.js";import{_ as U}from"./AppLayout-DlqXFi3f.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./Toaster-DOiks6zP.js";const R={class:"max-w-[1440px] mx-auto"},q={class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10"},Q={class:"flex items-center bg-slate-100 p-1 rounded-xl border border-slate-200/60 shadow-inner w-fit"},W={key:0,class:"space-y-8 animate-in fade-in duration-500"},J={class:"flex flex-wrap items-center gap-4"},P=["disabled"],X={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Y={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ee={class:"flex items-center justify-between mb-4"},te={class:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase"},se={class:"text-slate-400 text-xs font-bold"},oe={class:"text-xl font-bold text-slate-900 mb-2 truncate group-hover:text-blue-600 transition-colors"},le={class:"flex items-end justify-between mt-6"},ae={class:"text-2xl font-black text-slate-900"},re=["onClick","disabled"],ne={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ie={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de={key:1,class:"space-y-8 animate-in slide-in-from-bottom-4 duration-500"},ce={class:"bg-white p-6 rounded-[32px] border border-slate-100 shadow-sm flex flex-col xl:flex-row items-center justify-between gap-6"},ue={class:"flex flex-col sm:flex-row items-center gap-4 w-full xl:w-auto"},xe={class:"relative w-full sm:w-80"},pe={class:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar w-full xl:w-auto"},be=["onClick"],ve={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},he={class:"flex items-center justify-between mb-4"},ge={class:"text-[10px] font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded italic"},fe={class:"flex items-center gap-1.5"},me={class:"text-[10px] font-bold text-slate-500 uppercase"},ye={class:"text-lg font-bold text-slate-900 mb-2 leading-tight"},we={class:"flex items-center justify-between pt-6 border-t border-slate-50"},ke={class:"flex flex-col"},_e={class:"text-xl font-black text-slate-900 block"},Ce=["onClick","disabled"],Be={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Me=["fill"],je={key:1,class:"text-center py-20 bg-slate-50 rounded-[40px] border-2 border-dashed border-slate-200"},ze={key:2,class:"animate-in fade-in duration-500"},Se={key:0,class:"bg-white rounded-[40px] border border-slate-100 shadow-sm overflow-hidden"},Ve={class:"w-full text-left"},Ae={class:"divide-y divide-slate-50"},De={class:"px-8 py-6"},He={class:"font-bold text-slate-900"},Le={class:"px-8 py-6"},Te={class:"px-2 py-1 bg-slate-100 text-slate-500 rounded text-[10px] font-bold uppercase"},$e={class:"px-8 py-6"},Ie={key:0,class:"flex items-center gap-2"},Ke={class:"text-xs font-bold text-slate-700 capitalize"},Fe={class:"px-8 py-6 text-right"},Ee=["onClick"],Ge={key:1,class:"text-center py-20 bg-slate-50 rounded-[40px] border-2 border-dashed border-slate-200"},Ne={__name:"Trending",setup(Ue){const C=N(),i=u("trends"),d=u(!1),g=u([]),f=u([]),V=u(["Real Estate","Betting","Tech","Health","Finance"]),k=u([]),p=u(null),n=u({geo:"KE",niche:"",search:""}),A=G(()=>C.props.auth.user.current_organization||C.props.auth.user.organizations?.[0]),B=async()=>{d.value=!0;try{await x.post(route("api.trending-keywords.discover")),await M()}catch(o){console.error("Discovery failed",o)}finally{d.value=!1}},M=async()=>{d.value=!0;try{const o=await x.get(route("api.trending-keywords.index"));g.value=o.data.keywords}catch(o){console.error("Failed to fetch trends",o)}finally{d.value=!1}},v=async()=>{d.value=!0;try{const o=await x.get(route("api.ki.index"),{params:{region:n.value.geo==="GLOBAL"?"":n.value.geo,niche:n.value.niche,search:n.value.search}});f.value=o.data.data}catch(o){console.error("Failed to fetch global intelligence",o)}finally{d.value=!1}},m=async()=>{try{const o=await x.get(route("api.keywords.wallet.index"));k.value=o.data.data}catch(o){console.error("Failed to fetch bookmarks",o)}},j=async(o,t=!1)=>{p.value=o.id;try{t?(await x.post(route("api.ki.bookmark",o.id),{organization_id:A.value.id,use_case:"research"}),o.is_bookmarked=!0):await x.post(route("api.keywords.wallet.store"),{keyword:o.keyword,source:"trending",metadata:{country:o.country_code,growth:o.growth_rate,type:o.recommendation_type}}),await m()}catch(s){console.error("Save failed",s)}finally{p.value=null}},D=async o=>{if(confirm("Remove this keyword?"))try{await x.delete(route("api.keywords.wallet.destroy",o)),await m()}catch(t){console.error("Delete failed",t)}};return H(i,o=>{o==="global"&&f.value.length===0&&v(),o==="bookmarks"&&m()}),L(async()=>{await M(),await m(),g.value.length===0&&B()}),(o,t)=>(l(),T(U,{title:"Keyword Insights"},{default:z(()=>[e("div",R,[e("div",q,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-3xl font-extrabold text-slate-900 tracking-tight mb-2"},"Keyword Insights"),e("p",{class:"text-slate-500 font-medium"},"Discover trending topics in your niche and save them for your next campaign.")],-1)),e("div",Q,[e("button",{onClick:t[0]||(t[0]=s=>i.value="trends"),class:c(["px-4 py-2 rounded-lg text-xs font-bold transition-all duration-300 flex items-center gap-2",i.value==="trends"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"])},[...t[6]||(t[6]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1),h(" Smart Trends ",-1)])],2),e("button",{onClick:t[1]||(t[1]=s=>i.value="global"),class:c(["px-4 py-2 rounded-lg text-xs font-bold transition-all duration-300 flex items-center gap-2",i.value==="global"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"])},[...t[7]||(t[7]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9"})],-1),h(" Global Discovery ",-1)])],2),e("button",{onClick:t[2]||(t[2]=s=>i.value="bookmarks"),class:c(["px-4 py-2 rounded-lg text-xs font-bold transition-all duration-300 flex items-center gap-2",i.value==="bookmarks"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"])},[...t[8]||(t[8]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1),h(" Bookmarks ",-1)])],2),t[10]||(t[10]=e("div",{class:"w-px h-4 bg-slate-200 mx-1"},null,-1)),$(I(K),{href:o.route("keywords.intelligence"),class:"px-4 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-700 hover:bg-slate-200/50 transition-all duration-300 flex items-center gap-2"},{default:z(()=>[...t[9]||(t[9]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),h(" Intelligence ",-1)])]),_:1},8,["href"])])]),i.value==="trends"?(l(),a("div",W,[e("div",J,[e("button",{onClick:B,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-3 transition-all active:scale-95 disabled:opacity-50 shadow-xl shadow-blue-500/20",disabled:d.value},[d.value?(l(),a("svg",X,[...t[12]||(t[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),a("svg",Y,[...t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),h(" "+r(d.value?"Running Smart Discovery...":"Scan Organization Trends"),1)],8,P)]),g.value.length>0?(l(),a("div",Z,[(l(!0),a(y,null,w(g.value,s=>(l(),a("div",{key:s.id,class:"group bg-white rounded-3xl p-6 border border-slate-100 hover:border-blue-200 transition-all duration-300 relative overflow-hidden shadow-sm"},[e("div",ee,[e("span",te,r(s.recommendation_type.replace("_"," ")),1),e("span",se,r(s.country_code),1)]),e("h3",oe,r(s.keyword),1),e("div",le,[e("div",null,[t[14]||(t[14]=e("p",{class:"text-[10px] uppercase font-bold text-slate-400 mb-1"},"Growth",-1)),e("span",ae,"+"+r(Math.round(s.growth_rate))+"%",1)]),e("button",{onClick:_=>j(s),class:"w-12 h-12 rounded-2xl flex items-center justify-center transition-all bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white",disabled:p.value===s.id},[p.value===s.id?(l(),a("svg",ne,[...t[15]||(t[15]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),a("svg",ie,[...t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"},null,-1)])]))],8,re)])]))),128))])):b("",!0)])):b("",!0),i.value==="global"?(l(),a("div",de,[e("div",ce,[e("div",ue,[e("div",xe,[S(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.value.search=s),onInput:v,type:"text",placeholder:"Search global intelligence pool...",class:"w-full bg-slate-50 border-none rounded-2xl py-3 px-12 text-sm focus:ring-2 focus:ring-blue-500/20 transition-all font-medium"},null,544),[[F,n.value.search]]),t[17]||(t[17]=e("svg",{class:"w-5 h-5 text-slate-400 absolute left-4 top-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),S(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.geo=s),onChange:v,class:"w-full sm:w-auto bg-slate-50 border-none rounded-2xl py-3 px-6 text-sm font-bold text-slate-700 focus:ring-2 focus:ring-blue-500/20"},[...t[18]||(t[18]=[e("option",{value:"KE"},"Kenya (KE)",-1),e("option",{value:"US"},"USA (US)",-1),e("option",{value:"GLOBAL"},"Worldwide Hub",-1)])],544),[[E,n.value.geo]])]),e("div",pe,[e("button",{onClick:t[5]||(t[5]=s=>{n.value.niche="",v()}),class:c(["px-5 py-2.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all",n.value.niche===""?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-slate-50 text-slate-500 hover:bg-slate-100"])}," All Segments ",2),(l(!0),a(y,null,w(V.value,s=>(l(),a("button",{key:s,onClick:_=>{n.value.niche=s,v()},class:c(["px-5 py-2.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all",n.value.niche===s?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-slate-50 text-slate-500 hover:bg-slate-100"])},r(s),11,be))),128))])]),f.value.length>0?(l(),a("div",ve,[(l(!0),a(y,null,w(f.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-3xl p-6 border border-slate-100 hover:border-blue-200 transition-all group shadow-sm flex flex-col justify-between min-h-[220px]"},[e("div",null,[e("div",he,[e("span",ge,r(s.category||"Discovery"),1),e("div",fe,[e("span",{class:c(["w-1.5 h-1.5 rounded-full",s.decay_status==="rising"?"bg-emerald-500":"bg-slate-400"])},null,2),e("span",me,r(s.decay_status),1)])]),e("h3",ye,r(s.keyword),1)]),e("div",we,[e("div",ke,[t[19]||(t[19]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter"},"System Score",-1)),e("span",_e,r(Math.round(s.global_score)),1)]),e("button",{onClick:_=>j(s,!0),class:c(["w-11 h-11 rounded-xl flex items-center justify-center transition-all",s.is_bookmarked?"bg-blue-50 text-blue-600":"bg-slate-50 text-slate-400 hover:bg-blue-600 hover:text-white"]),disabled:p.value===s.id||s.is_bookmarked},[p.value===s.id?(l(),a("svg",Be,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),a("svg",{key:1,class:"w-5 h-5",fill:s.is_bookmarked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"},null,-1)])],8,Me))],10,Ce)])]))),128))])):d.value?b("",!0):(l(),a("div",je,[...t[22]||(t[22]=[e("p",{class:"text-slate-400 font-medium"},"No results found for current filters.",-1)])]))])):b("",!0),i.value==="bookmarks"?(l(),a("div",ze,[k.value.length>0?(l(),a("div",Se,[e("table",Ve,[t[23]||(t[23]=e("thead",null,[e("tr",{class:"bg-slate-50 border-b border-slate-100"},[e("th",{class:"px-8 py-5 text-[10px] font-black uppercase text-slate-400"},"Keyword"),e("th",{class:"px-8 py-5 text-[10px] font-black uppercase text-slate-400"},"Source"),e("th",{class:"px-8 py-5 text-[10px] font-black uppercase text-slate-400"},"Status"),e("th",{class:"px-8 py-5 text-[10px] font-black uppercase text-slate-400 text-right"},"Actions")])],-1)),e("tbody",Ae,[(l(!0),a(y,null,w(k.value,s=>(l(),a("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors group"},[e("td",De,[e("span",He,r(s.keyword),1)]),e("td",Le,[e("span",Te,r(s.source),1)]),e("td",$e,[s.intelligence?(l(),a("div",Ie,[e("span",{class:c(["w-1.5 h-1.5 rounded-full",s.intelligence.decay_status==="rising"?"bg-emerald-500":"bg-slate-300"])},null,2),e("span",Ke,r(s.intelligence.decay_status),1)])):b("",!0)]),e("td",Fe,[e("button",{onClick:_=>D(s.id),class:"text-rose-500 hover:text-rose-700 font-bold text-xs"},"Remove",8,Ee)])]))),128))])])])):(l(),a("div",Ge,[...t[24]||(t[24]=[e("h3",{class:"text-xl font-bold text-slate-900 mb-2"},"Empty Library",-1),e("p",{class:"text-slate-500"},"Discover and save keywords to build your strategy.",-1)])]))])):b("",!0)])]),_:1}))}},Je=O(Ne,[["__scopeId","data-v-f8687cab"]]);export{Je as default};
